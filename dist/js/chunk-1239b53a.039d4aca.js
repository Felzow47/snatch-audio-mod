(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1239b53a"],{"0af3":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Queue=void 0;class a{constructor(e,t={}){this._worker=e,this._concurrency=t.concurrency||1,this.tasks=[],this.total=0,this.active=0}push(e,t){this.tasks.push({item:e,callback:t}),this.total++,this._next()}_next(){if(this.active>=this._concurrency||!this.tasks.length)return;const{item:e,callback:t}=this.tasks.shift();let r=!1;this.active++,this._worker(e,(e,a)=>{r||(this.active--,r=!0,null===t||void 0===t||t(e,a),this._next())})}die(){this.tasks=[]}}t.Queue=a},1982:function(e,t,r){const a=r("65dc");t.between=(e,t,r)=>{let a;if(t instanceof RegExp){const r=e.match(t);if(!r)return"";a=r.index+r[0].length}else{if(a=e.indexOf(t),-1===a)return"";a+=t.length}return e=e.slice(a),a=e.indexOf(r),-1===a?"":(e=e.slice(0,a),e)},t.parseAbbreviatedNumber=e=>{const t=e.replace(",",".").replace(" ","").match(/([\d,.]+)([MK]?)/);if(t){let[,e,r]=t;return e=parseFloat(e),Math.round("M"===r?1e6*e:"K"===r?1e3*e:e)}return null},t.cutAfterJSON=e=>{let t,r;if("["===e[0]?(t="[",r="]"):"{"===e[0]&&(t="{",r="}"),!t)throw new Error("Can't cut unsupported JSON (need to begin with [ or { ) but got: "+e[0]);let a,i=!1,n=!1,o=0;for(a=0;a<e.length;a++)if('"'!==e[a]||n){if(n="\\"===e[a]&&!n,!i&&(e[a]===t?o++:e[a]===r&&o--,0===o))return e.substr(0,a+1)}else i=!i;throw Error("Can't cut unsupported JSON (no matching closing bracket found)")},t.playError=(e,t,r=Error)=>{let a=e&&e.playabilityStatus;return a&&t.includes(a.status)?new r(a.reason||a.messages&&a.messages[0]):null},t.exposedMiniget=(e,t={},r)=>{const i=a(e,r||t.requestOptions);return"function"===typeof t.requestCallback&&t.requestCallback(i),i},t.deprecate=(e,t,r,a,i)=>{Object.defineProperty(e,t,{get:()=>(console.warn(`\`${a}\` will be removed in a near future release, use \`${i}\` instead.`),r)})};const i=r("cd64"),n=432e5;t.lastUpdateCheck=0,t.checkForUpdates=()=>!Object({NODE_ENV:"production",VUE_APP_CLI_UI_URL:"",BASE_URL:""}).YTDL_NO_UPDATE&&!i.version.startsWith("0.0.0-")&&Date.now()-t.lastUpdateCheck>=n?(t.lastUpdateCheck=Date.now(),a("https://api.github.com/repos/fent/node-ytdl-core/releases/latest",{headers:{"User-Agent":"ytdl-core"}}).text().then(e=>{JSON.parse(e).tag_name!=="v"+i.version&&console.warn('[33mWARNING:[0m ytdl-core is out of date! Update with "npm install ytdl-core@latest".')},e=>{console.warn("Error checking for updates:",e.message),console.warn("You can disable this check by setting the `YTDL_NO_UPDATE` env variable.")})):null},2053:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.durationStr=t.humanStr=void 0;const a=/^\d+$/,i=/^(?:(?:(\d+):)?(\d{1,2}):)?(\d{1,2})(?:\.(\d{3}))?$/,n={ms:1,s:1e3,m:6e4,h:36e5};t.humanStr=e=>{if("number"===typeof e)return e;if(a.test(e))return+e;const t=i.exec(e);if(t)return+(t[1]||0)*n.h+ +(t[2]||0)*n.m+ +t[3]*n.s+ +(t[4]||0);{let t=0;const r=/(-?\d+)(ms|s|m|h)/g;let a;while(null!==(a=r.exec(e)))t+=+a[1]*n[a[2]];return t}},t.durationStr=e=>{let t=0;const r=/(\d+(?:\.\d+)?)(S|M|H)/g;let a;while(null!==(a=r.exec(e)))t+=+a[1]*n[a[2].toLowerCase()];return t}},"266c":function(e,t){const r=new Set(["youtube.com","www.youtube.com","m.youtube.com","music.youtube.com","gaming.youtube.com"]),a=/^https?:\/\/(youtu\.be\/|(www\.)?youtube\.com\/(embed|v|shorts)\/)/;t.getURLVideoID=e=>{const i=new URL(e);let o=i.searchParams.get("v");if(a.test(e)&&!o){const e=i.pathname.split("/");o="youtu.be"===i.host?e[1]:e[2]}else if(i.hostname&&!r.has(i.hostname))throw Error("Not a YouTube domain");if(!o)throw Error("No video id found: "+e);if(o=o.substring(0,11),!t.validateID(o))throw TypeError(`Video id (${o}) does not match expected format (${n.toString()})`);return o};const i=/^https?:\/\//;t.getVideoID=e=>{if(t.validateID(e))return e;if(i.test(e))return t.getURLVideoID(e);throw Error("No video id found: "+e)};const n=/^[a-zA-Z0-9-_]{11}$/;t.validateID=e=>n.test(e),t.validateURL=e=>{try{return t.getURLVideoID(e),!0}catch(r){return!1}}},3171:function(e,t,r){(function(e){e.parser=function(e,t){return new i(e,t)},e.SAXParser=i,e.SAXStream=u,e.createStream=c,e.MAX_BUFFER_LENGTH=65536;var t,a=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function i(t,r){if(!(this instanceof i))return new i(t,r);var a=this;o(a),a.q=a.c="",a.bufferCheckPosition=e.MAX_BUFFER_LENGTH,a.opt=r||{},a.opt.lowercase=a.opt.lowercase||a.opt.lowercasetags,a.looseCase=a.opt.lowercase?"toLowerCase":"toUpperCase",a.tags=[],a.closed=a.closedRoot=a.sawRoot=!1,a.tag=a.error=null,a.strict=!!t,a.noscript=!(!t&&!a.opt.noscript),a.state=R.BEGIN,a.strictEntities=a.opt.strictEntities,a.ENTITIES=a.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),a.attribList=[],a.opt.xmlns&&(a.ns=Object.create(y)),a.trackPosition=!1!==a.opt.position,a.trackPosition&&(a.position=a.line=a.column=0),D(a,"onready")}function n(t){for(var r=Math.max(e.MAX_BUFFER_LENGTH,10),i=0,n=0,o=a.length;n<o;n++){var s=t[a[n]].length;if(s>r)switch(a[n]){case"textNode":A(t);break;case"cdata":L(t,"oncdata",t.cdata),t.cdata="";break;case"script":L(t,"onscript",t.script),t.script="";break;default:O(t,"Max buffer length exceeded: "+a[n])}i=Math.max(i,s)}var l=e.MAX_BUFFER_LENGTH-i;t.bufferCheckPosition=l+t.position}function o(e){for(var t=0,r=a.length;t<r;t++)e[a[t]]=""}function s(e){A(e),""!==e.cdata&&(L(e,"oncdata",e.cdata),e.cdata=""),""!==e.script&&(L(e,"onscript",e.script),e.script="")}e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(e){function t(){}t.prototype=e;var r=new t;return r}),Object.keys||(Object.keys=function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r);return t}),i.prototype={end:function(){S(this)},write:j,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){s(this)}};try{t=r("9ac2").Stream}catch(H){t=function(){}}var l=e.EVENTS.filter((function(e){return"error"!==e&&"end"!==e}));function c(e,t){return new u(e,t)}function u(e,r){if(!(this instanceof u))return new u(e,r);t.apply(this),this._parser=new i(e,r),this.writable=!0,this.readable=!0;var a=this;this._parser.onend=function(){a.emit("end")},this._parser.onerror=function(e){a.emit("error",e),a._parser.error=null},this._decoder=null,l.forEach((function(e){Object.defineProperty(a,"on"+e,{get:function(){return a._parser["on"+e]},set:function(t){if(!t)return a.removeAllListeners(e),a._parser["on"+e]=t,t;a.on(e,t)},enumerable:!0,configurable:!1})}))}u.prototype=Object.create(t.prototype,{constructor:{value:u}}),u.prototype.write=function(e){if("function"===typeof Buffer&&"function"===typeof Buffer.isBuffer&&Buffer.isBuffer(e)){if(!this._decoder){var t=r("b658").StringDecoder;this._decoder=new t("utf8")}e=this._decoder.write(e)}return this._parser.write(e.toString()),this.emit("data",e),!0},u.prototype.end=function(e){return e&&e.length&&this.write(e),this._parser.end(),!0},u.prototype.on=function(e,r){var a=this;return a._parser["on"+e]||-1===l.indexOf(e)||(a._parser["on"+e]=function(){var t=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);t.splice(0,0,e),a.emit.apply(a,t)}),t.prototype.on.call(a,e,r)};var d="[CDATA[",p="DOCTYPE",m="http://www.w3.org/XML/1998/namespace",h="http://www.w3.org/2000/xmlns/",y={xml:m,xmlns:h},f=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,b=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,g=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,T=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function v(e){return" "===e||"\n"===e||"\r"===e||"\t"===e}function x(e){return'"'===e||"'"===e}function w(e){return">"===e||v(e)}function E(e,t){return e.test(t)}function _(e,t){return!E(e,t)}var R=0;for(var I in e.STATE={BEGIN:R++,BEGIN_WHITESPACE:R++,TEXT:R++,TEXT_ENTITY:R++,OPEN_WAKA:R++,SGML_DECL:R++,SGML_DECL_QUOTED:R++,DOCTYPE:R++,DOCTYPE_QUOTED:R++,DOCTYPE_DTD:R++,DOCTYPE_DTD_QUOTED:R++,COMMENT_STARTING:R++,COMMENT:R++,COMMENT_ENDING:R++,COMMENT_ENDED:R++,CDATA:R++,CDATA_ENDING:R++,CDATA_ENDING_2:R++,PROC_INST:R++,PROC_INST_BODY:R++,PROC_INST_ENDING:R++,OPEN_TAG:R++,OPEN_TAG_SLASH:R++,ATTRIB:R++,ATTRIB_NAME:R++,ATTRIB_NAME_SAW_WHITE:R++,ATTRIB_VALUE:R++,ATTRIB_VALUE_QUOTED:R++,ATTRIB_VALUE_CLOSED:R++,ATTRIB_VALUE_UNQUOTED:R++,ATTRIB_VALUE_ENTITY_Q:R++,ATTRIB_VALUE_ENTITY_U:R++,CLOSE_TAG:R++,CLOSE_TAG_SAW_WHITE:R++,SCRIPT:R++,SCRIPT_ENDING:R++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach((function(t){var r=e.ENTITIES[t],a="number"===typeof r?String.fromCharCode(r):r;e.ENTITIES[t]=a})),e.STATE)e.STATE[e.STATE[I]]=I;function D(e,t,r){e[t]&&e[t](r)}function L(e,t,r){e.textNode&&A(e),D(e,t,r)}function A(e){e.textNode=N(e.opt,e.textNode),e.textNode&&D(e,"ontext",e.textNode),e.textNode=""}function N(e,t){return e.trim&&(t=t.trim()),e.normalize&&(t=t.replace(/\s+/g," ")),t}function O(e,t){return A(e),e.trackPosition&&(t+="\nLine: "+e.line+"\nColumn: "+e.column+"\nChar: "+e.c),t=new Error(t),e.error=t,D(e,"onerror",t),e}function S(e){return e.sawRoot&&!e.closedRoot&&C(e,"Unclosed root tag"),e.state!==R.BEGIN&&e.state!==R.BEGIN_WHITESPACE&&e.state!==R.TEXT&&O(e,"Unexpected end"),A(e),e.c="",e.closed=!0,D(e,"onend"),i.call(e,e.strict,e.opt),e}function C(e,t){if("object"!==typeof e||!(e instanceof i))throw new Error("bad call to strictFail");e.strict&&O(e,t)}function P(e){e.strict||(e.tagName=e.tagName[e.looseCase]());var t=e.tags[e.tags.length-1]||e,r=e.tag={name:e.tagName,attributes:{}};e.opt.xmlns&&(r.ns=t.ns),e.attribList.length=0,L(e,"onopentagstart",r)}function k(e,t){var r=e.indexOf(":"),a=r<0?["",e]:e.split(":"),i=a[0],n=a[1];return t&&"xmlns"===e&&(i="xmlns",n=""),{prefix:i,local:n}}function B(e){if(e.strict||(e.attribName=e.attribName[e.looseCase]()),-1!==e.attribList.indexOf(e.attribName)||e.tag.attributes.hasOwnProperty(e.attribName))e.attribName=e.attribValue="";else{if(e.opt.xmlns){var t=k(e.attribName,!0),r=t.prefix,a=t.local;if("xmlns"===r)if("xml"===a&&e.attribValue!==m)C(e,"xml: prefix must be bound to "+m+"\nActual: "+e.attribValue);else if("xmlns"===a&&e.attribValue!==h)C(e,"xmlns: prefix must be bound to "+h+"\nActual: "+e.attribValue);else{var i=e.tag,n=e.tags[e.tags.length-1]||e;i.ns===n.ns&&(i.ns=Object.create(n.ns)),i.ns[a]=e.attribValue}e.attribList.push([e.attribName,e.attribValue])}else e.tag.attributes[e.attribName]=e.attribValue,L(e,"onattribute",{name:e.attribName,value:e.attribValue});e.attribName=e.attribValue=""}}function F(e,t){if(e.opt.xmlns){var r=e.tag,a=k(e.tagName);r.prefix=a.prefix,r.local=a.local,r.uri=r.ns[a.prefix]||"",r.prefix&&!r.uri&&(C(e,"Unbound namespace prefix: "+JSON.stringify(e.tagName)),r.uri=a.prefix);var i=e.tags[e.tags.length-1]||e;r.ns&&i.ns!==r.ns&&Object.keys(r.ns).forEach((function(t){L(e,"onopennamespace",{prefix:t,uri:r.ns[t]})}));for(var n=0,o=e.attribList.length;n<o;n++){var s=e.attribList[n],l=s[0],c=s[1],u=k(l,!0),d=u.prefix,p=u.local,m=""===d?"":r.ns[d]||"",h={name:l,value:c,prefix:d,local:p,uri:m};d&&"xmlns"!==d&&!m&&(C(e,"Unbound namespace prefix: "+JSON.stringify(d)),h.uri=d),e.tag.attributes[l]=h,L(e,"onattribute",h)}e.attribList.length=0}e.tag.isSelfClosing=!!t,e.sawRoot=!0,e.tags.push(e.tag),L(e,"onopentag",e.tag),t||(e.noscript||"script"!==e.tagName.toLowerCase()?e.state=R.TEXT:e.state=R.SCRIPT,e.tag=null,e.tagName=""),e.attribName=e.attribValue="",e.attribList.length=0}function U(e){if(!e.tagName)return C(e,"Weird empty close tag."),e.textNode+="</>",void(e.state=R.TEXT);if(e.script){if("script"!==e.tagName)return e.script+="</"+e.tagName+">",e.tagName="",void(e.state=R.SCRIPT);L(e,"onscript",e.script),e.script=""}var t=e.tags.length,r=e.tagName;e.strict||(r=r[e.looseCase]());var a=r;while(t--){var i=e.tags[t];if(i.name===a)break;C(e,"Unexpected close tag")}if(t<0)return C(e,"Unmatched closing tag: "+e.tagName),e.textNode+="</"+e.tagName+">",void(e.state=R.TEXT);e.tagName=r;var n=e.tags.length;while(n-- >t){var o=e.tag=e.tags.pop();e.tagName=e.tag.name,L(e,"onclosetag",e.tagName);var s={};for(var l in o.ns)s[l]=o.ns[l];var c=e.tags[e.tags.length-1]||e;e.opt.xmlns&&o.ns!==c.ns&&Object.keys(o.ns).forEach((function(t){var r=o.ns[t];L(e,"onclosenamespace",{prefix:t,uri:r})}))}0===t&&(e.closedRoot=!0),e.tagName=e.attribValue=e.attribName="",e.attribList.length=0,e.state=R.TEXT}function M(e){var t,r=e.entity,a=r.toLowerCase(),i="";return e.ENTITIES[r]?e.ENTITIES[r]:e.ENTITIES[a]?e.ENTITIES[a]:(r=a,"#"===r.charAt(0)&&("x"===r.charAt(1)?(r=r.slice(2),t=parseInt(r,16),i=t.toString(16)):(r=r.slice(1),t=parseInt(r,10),i=t.toString(10))),r=r.replace(/^0+/,""),isNaN(t)||i.toLowerCase()!==r?(C(e,"Invalid character entity"),"&"+e.entity+";"):String.fromCodePoint(t))}function q(e,t){"<"===t?(e.state=R.OPEN_WAKA,e.startTagPosition=e.position):v(t)||(C(e,"Non-whitespace before first tag."),e.textNode=t,e.state=R.TEXT)}function V(e,t){var r="";return t<e.length&&(r=e.charAt(t)),r}function j(e){var t=this;if(this.error)throw this.error;if(t.closed)return O(t,"Cannot write after close. Assign an onready handler.");if(null===e)return S(t);"object"===typeof e&&(e=e.toString());var r=0,a="";while(1){if(a=V(e,r++),t.c=a,!a)break;switch(t.trackPosition&&(t.position++,"\n"===a?(t.line++,t.column=0):t.column++),t.state){case R.BEGIN:if(t.state=R.BEGIN_WHITESPACE,"\ufeff"===a)continue;q(t,a);continue;case R.BEGIN_WHITESPACE:q(t,a);continue;case R.TEXT:if(t.sawRoot&&!t.closedRoot){var i=r-1;while(a&&"<"!==a&&"&"!==a)a=V(e,r++),a&&t.trackPosition&&(t.position++,"\n"===a?(t.line++,t.column=0):t.column++);t.textNode+=e.substring(i,r-1)}"<"!==a||t.sawRoot&&t.closedRoot&&!t.strict?(v(a)||t.sawRoot&&!t.closedRoot||C(t,"Text data outside of root node."),"&"===a?t.state=R.TEXT_ENTITY:t.textNode+=a):(t.state=R.OPEN_WAKA,t.startTagPosition=t.position);continue;case R.SCRIPT:"<"===a?t.state=R.SCRIPT_ENDING:t.script+=a;continue;case R.SCRIPT_ENDING:"/"===a?t.state=R.CLOSE_TAG:(t.script+="<"+a,t.state=R.SCRIPT);continue;case R.OPEN_WAKA:if("!"===a)t.state=R.SGML_DECL,t.sgmlDecl="";else if(v(a));else if(E(f,a))t.state=R.OPEN_TAG,t.tagName=a;else if("/"===a)t.state=R.CLOSE_TAG,t.tagName="";else if("?"===a)t.state=R.PROC_INST,t.procInstName=t.procInstBody="";else{if(C(t,"Unencoded <"),t.startTagPosition+1<t.position){var o=t.position-t.startTagPosition;a=new Array(o).join(" ")+a}t.textNode+="<"+a,t.state=R.TEXT}continue;case R.SGML_DECL:(t.sgmlDecl+a).toUpperCase()===d?(L(t,"onopencdata"),t.state=R.CDATA,t.sgmlDecl="",t.cdata=""):t.sgmlDecl+a==="--"?(t.state=R.COMMENT,t.comment="",t.sgmlDecl=""):(t.sgmlDecl+a).toUpperCase()===p?(t.state=R.DOCTYPE,(t.doctype||t.sawRoot)&&C(t,"Inappropriately located doctype declaration"),t.doctype="",t.sgmlDecl=""):">"===a?(L(t,"onsgmldeclaration",t.sgmlDecl),t.sgmlDecl="",t.state=R.TEXT):x(a)?(t.state=R.SGML_DECL_QUOTED,t.sgmlDecl+=a):t.sgmlDecl+=a;continue;case R.SGML_DECL_QUOTED:a===t.q&&(t.state=R.SGML_DECL,t.q=""),t.sgmlDecl+=a;continue;case R.DOCTYPE:">"===a?(t.state=R.TEXT,L(t,"ondoctype",t.doctype),t.doctype=!0):(t.doctype+=a,"["===a?t.state=R.DOCTYPE_DTD:x(a)&&(t.state=R.DOCTYPE_QUOTED,t.q=a));continue;case R.DOCTYPE_QUOTED:t.doctype+=a,a===t.q&&(t.q="",t.state=R.DOCTYPE);continue;case R.DOCTYPE_DTD:t.doctype+=a,"]"===a?t.state=R.DOCTYPE:x(a)&&(t.state=R.DOCTYPE_DTD_QUOTED,t.q=a);continue;case R.DOCTYPE_DTD_QUOTED:t.doctype+=a,a===t.q&&(t.state=R.DOCTYPE_DTD,t.q="");continue;case R.COMMENT:"-"===a?t.state=R.COMMENT_ENDING:t.comment+=a;continue;case R.COMMENT_ENDING:"-"===a?(t.state=R.COMMENT_ENDED,t.comment=N(t.opt,t.comment),t.comment&&L(t,"oncomment",t.comment),t.comment=""):(t.comment+="-"+a,t.state=R.COMMENT);continue;case R.COMMENT_ENDED:">"!==a?(C(t,"Malformed comment"),t.comment+="--"+a,t.state=R.COMMENT):t.state=R.TEXT;continue;case R.CDATA:"]"===a?t.state=R.CDATA_ENDING:t.cdata+=a;continue;case R.CDATA_ENDING:"]"===a?t.state=R.CDATA_ENDING_2:(t.cdata+="]"+a,t.state=R.CDATA);continue;case R.CDATA_ENDING_2:">"===a?(t.cdata&&L(t,"oncdata",t.cdata),L(t,"onclosecdata"),t.cdata="",t.state=R.TEXT):"]"===a?t.cdata+="]":(t.cdata+="]]"+a,t.state=R.CDATA);continue;case R.PROC_INST:"?"===a?t.state=R.PROC_INST_ENDING:v(a)?t.state=R.PROC_INST_BODY:t.procInstName+=a;continue;case R.PROC_INST_BODY:if(!t.procInstBody&&v(a))continue;"?"===a?t.state=R.PROC_INST_ENDING:t.procInstBody+=a;continue;case R.PROC_INST_ENDING:">"===a?(L(t,"onprocessinginstruction",{name:t.procInstName,body:t.procInstBody}),t.procInstName=t.procInstBody="",t.state=R.TEXT):(t.procInstBody+="?"+a,t.state=R.PROC_INST_BODY);continue;case R.OPEN_TAG:E(b,a)?t.tagName+=a:(P(t),">"===a?F(t):"/"===a?t.state=R.OPEN_TAG_SLASH:(v(a)||C(t,"Invalid character in tag name"),t.state=R.ATTRIB));continue;case R.OPEN_TAG_SLASH:">"===a?(F(t,!0),U(t)):(C(t,"Forward-slash in opening tag not followed by >"),t.state=R.ATTRIB);continue;case R.ATTRIB:if(v(a))continue;">"===a?F(t):"/"===a?t.state=R.OPEN_TAG_SLASH:E(f,a)?(t.attribName=a,t.attribValue="",t.state=R.ATTRIB_NAME):C(t,"Invalid attribute name");continue;case R.ATTRIB_NAME:"="===a?t.state=R.ATTRIB_VALUE:">"===a?(C(t,"Attribute without value"),t.attribValue=t.attribName,B(t),F(t)):v(a)?t.state=R.ATTRIB_NAME_SAW_WHITE:E(b,a)?t.attribName+=a:C(t,"Invalid attribute name");continue;case R.ATTRIB_NAME_SAW_WHITE:if("="===a)t.state=R.ATTRIB_VALUE;else{if(v(a))continue;C(t,"Attribute without value"),t.tag.attributes[t.attribName]="",t.attribValue="",L(t,"onattribute",{name:t.attribName,value:""}),t.attribName="",">"===a?F(t):E(f,a)?(t.attribName=a,t.state=R.ATTRIB_NAME):(C(t,"Invalid attribute name"),t.state=R.ATTRIB)}continue;case R.ATTRIB_VALUE:if(v(a))continue;x(a)?(t.q=a,t.state=R.ATTRIB_VALUE_QUOTED):(C(t,"Unquoted attribute value"),t.state=R.ATTRIB_VALUE_UNQUOTED,t.attribValue=a);continue;case R.ATTRIB_VALUE_QUOTED:if(a!==t.q){"&"===a?t.state=R.ATTRIB_VALUE_ENTITY_Q:t.attribValue+=a;continue}B(t),t.q="",t.state=R.ATTRIB_VALUE_CLOSED;continue;case R.ATTRIB_VALUE_CLOSED:v(a)?t.state=R.ATTRIB:">"===a?F(t):"/"===a?t.state=R.OPEN_TAG_SLASH:E(f,a)?(C(t,"No whitespace between attributes"),t.attribName=a,t.attribValue="",t.state=R.ATTRIB_NAME):C(t,"Invalid attribute name");continue;case R.ATTRIB_VALUE_UNQUOTED:if(!w(a)){"&"===a?t.state=R.ATTRIB_VALUE_ENTITY_U:t.attribValue+=a;continue}B(t),">"===a?F(t):t.state=R.ATTRIB;continue;case R.CLOSE_TAG:if(t.tagName)">"===a?U(t):E(b,a)?t.tagName+=a:t.script?(t.script+="</"+t.tagName,t.tagName="",t.state=R.SCRIPT):(v(a)||C(t,"Invalid tagname in closing tag"),t.state=R.CLOSE_TAG_SAW_WHITE);else{if(v(a))continue;_(f,a)?t.script?(t.script+="</"+a,t.state=R.SCRIPT):C(t,"Invalid tagname in closing tag."):t.tagName=a}continue;case R.CLOSE_TAG_SAW_WHITE:if(v(a))continue;">"===a?U(t):C(t,"Invalid characters in closing tag");continue;case R.TEXT_ENTITY:case R.ATTRIB_VALUE_ENTITY_Q:case R.ATTRIB_VALUE_ENTITY_U:var s,l;switch(t.state){case R.TEXT_ENTITY:s=R.TEXT,l="textNode";break;case R.ATTRIB_VALUE_ENTITY_Q:s=R.ATTRIB_VALUE_QUOTED,l="attribValue";break;case R.ATTRIB_VALUE_ENTITY_U:s=R.ATTRIB_VALUE_UNQUOTED,l="attribValue";break}";"===a?(t[l]+=M(t),t.entity="",t.state=s):E(t.entity.length?T:g,a)?t.entity+=a:(C(t,"Invalid character in entity name"),t[l]+="&"+t.entity+a,t.entity="",t.state=s);continue;default:throw new Error(t,"Unknown state: "+t.state)}}return t.position>=t.bufferCheckPosition&&n(t),t}
/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */R=e.STATE,String.fromCodePoint||function(){var e=String.fromCharCode,t=Math.floor,r=function(){var r,a,i=16384,n=[],o=-1,s=arguments.length;if(!s)return"";var l="";while(++o<s){var c=Number(arguments[o]);if(!isFinite(c)||c<0||c>1114111||t(c)!==c)throw RangeError("Invalid code point: "+c);c<=65535?n.push(c):(c-=65536,r=55296+(c>>10),a=c%1024+56320,n.push(r,a)),(o+1===s||n.length>i)&&(l+=e.apply(null,n),n.length=0)}return l};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:r,configurable:!0,writable:!0}):String.fromCodePoint=r}()})(t)},"5ced":function(e,t,r){},"65dc":function(e,t,r){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};const i=a(r("2849")),n=a(r("ed62")),o=r("9ac2"),s={"http:":i.default,"https:":n.default},l=new Set([301,302,303,307,308]),c=new Set([429,503]),u=["connect","continue","information","socket","timeout","upgrade"],d=["aborted"];function p(e,t={}){var r;const a=Object.assign({},p.defaultOptions,t),i=new o.PassThrough({highWaterMark:a.highWaterMark});let n,m,h;i.destroyed=i.aborted=!1;let y,f,b,g=0,T=0,v=0,x=!1,w=0,E=0;if(null===(r=a.headers)||void 0===r?void 0:r.Range){let e=/bytes=(\d+)-(\d+)?/.exec(""+a.headers.Range);e&&(w=parseInt(e[1],10),b=parseInt(e[2],10))}a.acceptEncoding&&(a.headers=Object.assign({"Accept-Encoding":Object.keys(a.acceptEncoding).join(", ")},a.headers));const _=()=>h&&E>0,R=()=>!x||E===f,I=e=>{h=null,T=0;let t=a.backoff.inc,r=Math.min(t,a.backoff.max);y=setTimeout(N,r),i.emit("reconnect",v,e)},D=e=>"HEAD"!==t.method&&!R()&&v++<a.maxReconnects&&(I(e),!0),L=e=>{if(i.destroyed)return!1;if(_())return D(e.err);if((!e.err||"ENOTFOUND"===e.err.message)&&T++<a.maxRetries){let t=e.retryAfter||Math.min(T*a.backoff.inc,a.backoff.max);return y=setTimeout(N,t),i.emit("retry",T,e.err),!0}return!1},A=(e,t)=>{for(let r of t)e.on(r,i.emit.bind(i,r))},N=()=>{let t,r={};try{let a="string"===typeof e?new URL(e):e;r=Object.assign({},{host:a.host,hostname:a.hostname,path:a.pathname+a.search+a.hash,port:a.port,protocol:a.protocol}),a.username&&(r.auth=`${a.username}:${a.password}`),t=s[String(r.protocol)]}catch(R){}if(!t)return void i.emit("error",new p.MinigetError("Invalid URL: "+e));if(Object.assign(r,a),x&&E>0){let e=E+w,t=b||"";r.headers=Object.assign({},r.headers,{Range:`bytes=${e}-${t}`})}if(a.transform){try{r=a.transform(r)}catch(R){return void i.emit("error",R)}if((!r||r.protocol)&&(t=s[String(null===r||void 0===r?void 0:r.protocol)],!t))return void i.emit("error",new p.MinigetError("Invalid URL object from `transform` function"))}const o=e=>{i.destroyed||i.readableEnded||(T(),L({err:e})?n.removeListener("close",y):i.emit("error",e))},y=()=>{T(),L({})},T=()=>{n.removeListener("close",y),null===m||void 0===m||m.removeListener("data",v),null===h||void 0===h||h.removeListener("end",_)},v=e=>{E+=e.length},_=()=>{T(),D()||i.end()};n=t.request(r,t=>{if(!i.destroyed)if(l.has(t.statusCode)){if(g++>=a.maxRedirects)i.emit("error",new p.MinigetError("Too many redirects"));else{if(!t.headers.location){let e=new p.MinigetError("Redirect status code given with no location",t.statusCode);return i.emit("error",e),void T()}e=t.headers.location,setTimeout(N,1e3*parseInt(t.headers["retry-after"]||"0",10)),i.emit("redirect",e)}T()}else if(c.has(t.statusCode)){if(!L({retryAfter:parseInt(t.headers["retry-after"]||"0",10)})){let e=new p.MinigetError("Status code: "+t.statusCode,t.statusCode);i.emit("error",e)}T()}else{if(t.statusCode&&(t.statusCode<200||t.statusCode>=400)){let e=new p.MinigetError("Status code: "+t.statusCode,t.statusCode);return t.statusCode>=500?o(e):i.emit("error",e),void T()}if(h=t,a.acceptEncoding&&t.headers["content-encoding"])for(let e of t.headers["content-encoding"].split(", ").reverse()){let t=a.acceptEncoding[e];t&&(h=h.pipe(t()),h.on("error",o))}f||(f=parseInt(""+t.headers["content-length"],10),x="bytes"===t.headers["accept-ranges"]&&f>0&&a.maxReconnects>0),t.on("data",v),h.on("end",_),h.pipe(i,{end:!x}),m=t,i.emit("response",t),t.on("error",o),A(t,d)}}),n.on("error",o),n.on("close",y),A(n,u),i.destroyed&&S(...O),i.emit("request",n),n.end()};let O;i.abort=e=>{console.warn("`MinigetStream#abort()` has been deprecated in favor of `MinigetStream#destroy()`"),i.aborted=!0,i.emit("abort"),i.destroy(e)};const S=e=>{n.destroy(e),null===h||void 0===h||h.unpipe(i),null===h||void 0===h||h.destroy(),clearTimeout(y)};return i._destroy=(...e)=>{i.destroyed=!0,n?S(...e):O=e},i.text=()=>new Promise((e,t)=>{let r="";i.setEncoding("utf8"),i.on("data",e=>r+=e),i.on("end",()=>e(r)),i.on("error",t)}),process.nextTick(N),i}p.MinigetError=class extends Error{constructor(e,t){super(e),this.statusCode=t}},p.defaultOptions={maxRedirects:10,maxRetries:2,maxReconnects:0,backoff:{inc:100,max:1e4}},e.exports=p},"78a9":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=r("9ac2");class i extends a.Writable{constructor(){super(),this._lastLine="",this._seq=0,this._nextItemDuration=null,this._nextItemRange=null,this._lastItemRangeEnd=0,this.on("finish",()=>{this._parseLine(this._lastLine),this.emit("end")})}_parseAttrList(e){let t,r={},a=/([A-Z0-9-]+)=(?:"([^"]*?)"|([^,]*?))/g;while(null!==(t=a.exec(e)))r[t[1]]=t[2]||t[3];return r}_parseRange(e){if(!e)return null;let t=e.split("@"),r=t[1]?parseInt(t[1]):this._lastItemRangeEnd+1,a=r+parseInt(t[0])-1,i={start:r,end:a};return this._lastItemRangeEnd=i.end,i}_parseLine(e){let t=e.match(/^#(EXT[A-Z0-9-]+)(?::(.*))?/);if(t){const e=t[1],r=t[2]||"";switch(e){case"EXT-X-PROGRAM-DATE-TIME":this.emit("starttime",new Date(r).getTime());break;case"EXT-X-MEDIA-SEQUENCE":this._seq=parseInt(r);break;case"EXT-X-MAP":{let e=this._parseAttrList(r);if(!e.URI)return void this.destroy(new Error("`EXT-X-MAP` found without required attribute `URI`"));this.emit("item",{url:e.URI,seq:this._seq,init:!0,duration:0,range:this._parseRange(e.BYTERANGE)});break}case"EXT-X-BYTERANGE":this._nextItemRange=this._parseRange(r);break;case"EXTINF":this._nextItemDuration=Math.round(1e3*parseFloat(r.split(",")[0]));break;case"EXT-X-ENDLIST":this.emit("endlist");break}}else!/^#/.test(e)&&e.trim()&&(this.emit("item",{url:e.trim(),seq:this._seq++,duration:this._nextItemDuration,range:this._nextItemRange}),this._nextItemRange=null)}_write(e,t,r){let a=e.toString("utf8").split("\n");this._lastLine&&(a[0]=this._lastLine+a[0]),a.forEach((e,t)=>{this.destroyed||(t<a.length-1?this._parseLine(e):this._lastLine=e)}),r()}}t.default=i},"7b39":function(e,t,r){const a=r("f319"),i=r("3171"),n=r("65dc"),o=r("1982"),{setTimeout:s}=r("4600"),l=r("fcd9"),c=r("266c"),u=r("f35f"),d=r("9364"),p=r("9bf4"),m="https://www.youtube.com/watch?v=";t.cache=new p,t.cookieCache=new p(864e5),t.watchPageCache=new p;let h="2.20210622.10.00";class y extends Error{}const f=["support.google.com/youtube/?p=age_restrictions","youtube.com/t/community_guidelines"];t.getBasicInfo=async(e,t)=>{const r=Object.assign({},n.defaultOptions,t.requestOptions);t.requestOptions=Object.assign({},t.requestOptions,{}),t.requestOptions.headers=Object.assign({},{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.101 Safari/537.36"},t.requestOptions.headers);const a=e=>{let t=o.playError(e.player_response,["ERROR"],y),r=b(e.player_response);if(t||r)throw t||r;return e&&e.player_response&&(e.player_response.streamingData||g(e.player_response)||T(e.player_response))};let i=await I([e,t],a,r,[k,P,M]);Object.assign(i,{formats:q(i.player_response),related_videos:u.getRelatedVideos(i)});const s=u.getMedia(i),l={author:u.getAuthor(i),media:s,likes:u.getLikes(i),dislikes:u.getDislikes(i),age_restricted:!!(s&&s.notice_url&&f.some(e=>s.notice_url.includes(e))),video_url:m+e,storyboards:u.getStoryboards(i),chapters:u.getChapters(i)};return i.videoDetails=u.cleanVideoDetails(Object.assign({},i.player_response&&i.player_response.microformat&&i.player_response.microformat.playerMicroformatRenderer,i.player_response&&i.player_response.videoDetails,l),i),i};const b=e=>{let t=e&&e.playabilityStatus;return t&&"LOGIN_REQUIRED"===t.status&&t.messages&&t.messages.filter(e=>/This is a private video/.test(e)).length?new y(t.reason||t.messages&&t.messages[0]):null},g=e=>{let t=e.playabilityStatus;return t&&"UNPLAYABLE"===t.status&&t.errorScreen&&t.errorScreen.playerLegacyDesktopYpcOfferRenderer},T=e=>{let t=e.playabilityStatus;return t&&"LIVE_STREAM_OFFLINE"===t.status},v=(e,t)=>`${m+e}&hl=${t.lang||"en"}`,x=(e,r)=>{const a=v(e,r);return t.watchPageCache.getOrSet(a,()=>o.exposedMiniget(a,r).text())},w="https://www.youtube.com/embed/",E=(e,t)=>{const r=`${w+e}?hl=${t.lang||"en"}`;return o.exposedMiniget(r,t).text()},_=e=>{let t=/<script\s+src="([^"]+)"(?:\s+type="text\/javascript")?\s+name="player_ias\/base"\s*>|"jsUrl":"([^"]+)"/.exec(e);return t?t[1]||t[2]:null},R=(e,r,a,i)=>t.cookieCache.getOrSet(a,async()=>{let t=await x(e,r),a=t.match(/(["'])ID_TOKEN\1[:,]\s?"([^"]+)"/);if(!a&&i)throw new y("Cookie header used in request, but unable to find YouTube identity token");return a&&a[2]}),I=async(e,t,r,a)=>{let i;for(let o of a)try{const a=await L(o,e.concat([i]),r);if(a.player_response&&(a.player_response.videoDetails=D(i&&i.player_response&&i.player_response.videoDetails,a.player_response.videoDetails),a.player_response=D(i&&i.player_response,a.player_response)),i=D(i,a),t(i,!1))break}catch(n){if(n instanceof y||o===a[a.length-1])throw n}return i},D=(e,t)=>{if(!e||!t)return e||t;for(let[r,a]of Object.entries(t))null!==a&&void 0!==a&&(e[r]=a);return e},L=async(e,t,r)=>{let a,i=0;while(i<=r.maxRetries)try{a=await e(...t);break}catch(o){if(o instanceof y||o instanceof n.MinigetError&&o.statusCode<500||i>=r.maxRetries)throw o;let e=Math.min(++i*r.backoff.inc,r.backoff.max);await new Promise(t=>s(t,e))}return a},A=/^[)\]}'\s]+/,N=(e,t,r)=>{if(!r||"object"===typeof r)return r;try{return r=r.replace(A,""),JSON.parse(r)}catch(a){throw Error(`Error parsing ${t} in ${e}: ${a.message}`)}},O=(e,t,r,a,i,n)=>{let s=o.between(r,a,i);if(!s)throw Error(`Could not find ${t} in ${e}`);return N(e,t,o.cutAfterJSON(`${n}${s}`))},S=(e,t)=>{const r=t&&(t.args&&t.args.player_response||t.player_response||t.playerResponse||t.embedded_player_response);return N(e,"player_response",r)},C=(e,t)=>v(e,t)+"&pbj=1",P=async(e,r)=>{const a=Object.assign({headers:{}},r.requestOptions);let i=a.headers.Cookie||a.headers.cookie;a.headers=Object.assign({"x-youtube-client-name":"1","x-youtube-client-version":h,"x-youtube-identity-token":t.cookieCache.get(i||"browser")||""},a.headers);const n=async(t,i)=>{a.headers["x-youtube-identity-token"]||(a.headers["x-youtube-identity-token"]=await R(e,r,t,i))};i&&await n(i,!0);const s=C(e,r),l=await o.exposedMiniget(s,r,a).text();let c=N("watch.json","body",l);if("now"===c.reload&&await n("browser",!1),"now"===c.reload||!Array.isArray(c))throw Error("Unable to retrieve video metadata in watch.json");let u=c.reduce((e,t)=>Object.assign(t,e),{});return u.player_response=S("watch.json",u),u.html5player=u.player&&u.player.assets&&u.player.assets.js,u},k=async(e,t)=>{let r=await x(e,t),a={page:"watch"};try{h=o.between(r,'{"key":"cver","value":"','"}'),a.player_response=O("watch.html","player_response",r,/\bytInitialPlayerResponse\s*=\s*\{/i,"<\/script>","{")}catch(i){let e=O("watch.html","player_response",r,/\bytplayer\.config\s*=\s*{/,"<\/script>","{");a.player_response=S("watch.html",e)}return a.response=O("watch.html","response",r,/\bytInitialData("\])?\s*=\s*\{/i,"<\/script>","{"),a.html5player=_(r),a},B="www.youtube.com",F="/get_video_info",U="https://youtube.googleapis.com/v/",M=async(e,t)=>{const r=new URL(`https://${B}${F}`);r.searchParams.set("video_id",e),r.searchParams.set("c","TVHTML5"),r.searchParams.set("cver","7"+h.substr(1)),r.searchParams.set("eurl",U+e),r.searchParams.set("ps","default"),r.searchParams.set("gl","US"),r.searchParams.set("hl",t.lang||"en"),r.searchParams.set("html5","1");const i=await o.exposedMiniget(r.toString(),t).text();let n=a.parse(i);return n.player_response=S("get_video_info",n),n},q=e=>{let t=[];return e&&e.streamingData&&(t=t.concat(e.streamingData.formats||[]).concat(e.streamingData.adaptiveFormats||[])),t};t.getInfo=async(e,r)=>{let a=await t.getBasicInfo(e,r);const i=a.player_response&&a.player_response.streamingData&&(a.player_response.streamingData.dashManifestUrl||a.player_response.streamingData.hlsManifestUrl);let n=[];if(a.formats.length){if(a.html5player=a.html5player||_(await x(e,r))||_(await E(e,r)),!a.html5player)throw Error("Unable to find html5player file");const t=new URL(a.html5player,m).toString();n.push(d.decipherFormats(a.formats,t,r))}if(i&&a.player_response.streamingData.dashManifestUrl){let e=a.player_response.streamingData.dashManifestUrl;n.push(V(e,r))}if(i&&a.player_response.streamingData.hlsManifestUrl){let e=a.player_response.streamingData.hlsManifestUrl;n.push(j(e,r))}let o=await Promise.all(n);return a.formats=Object.values(Object.assign({},...o)),a.formats=a.formats.map(l.addFormatMeta),a.formats.sort(l.sortFormats),a.full=!0,a};const V=(e,t)=>new Promise((r,a)=>{let n={};const s=i.parser(!1);let l;s.onerror=a,s.onopentag=t=>{if("ADAPTATIONSET"===t.name)l=t.attributes;else if("REPRESENTATION"===t.name){const r=parseInt(t.attributes.ID);isNaN(r)||(n[e]=Object.assign({itag:r,url:e,bitrate:parseInt(t.attributes.BANDWIDTH),mimeType:`${l.MIMETYPE}; codecs="${t.attributes.CODECS}"`},t.attributes.HEIGHT?{width:parseInt(t.attributes.WIDTH),height:parseInt(t.attributes.HEIGHT),fps:parseInt(t.attributes.FRAMERATE)}:{audioSampleRate:t.attributes.AUDIOSAMPLINGRATE}))}},s.onend=()=>{r(n)};const c=o.exposedMiniget(new URL(e,m).toString(),t);c.setEncoding("utf8"),c.on("error",a),c.on("data",e=>{s.write(e)}),c.on("end",s.close.bind(s))}),j=async(e,t)=>{e=new URL(e,m);const r=await o.exposedMiniget(e.toString(),t).text();let a={};return r.split("\n").filter(e=>/^https?:\/\//.test(e)).forEach(e=>{const t=parseInt(e.match(/\/itag\/(\d+)\//)[1]);a[e]={itag:t,url:e}}),a};for(let H of["getBasicInfo","getInfo"]){const e=t[H];t[H]=async(r,a={})=>{o.checkForUpdates();let i=await c.getVideoID(r);const n=[H,i,a.lang].join("-");return t.cache.getOrSet(n,()=>e(i,a))}}t.validateID=c.validateID,t.validateURL=c.validateURL,t.getURLVideoID=c.getURLVideoID,t.getVideoID=c.getVideoID},"8dba":function(e){e.exports=JSON.parse('{"default":{"ease":{"x1":0.42,"y1":0,"x2":0.58,"y2":1},"easeIn":{"x1":0.42,"y1":0,"x2":1,"y2":1},"easeOut":{"x1":0,"y1":0,"x2":0.58,"y2":1},"quad":{"x1":0.48,"y1":0.04,"x2":0.52,"y2":0.96},"quadIn":{"x1":0.26,"y1":0,"x2":0.6,"y2":0.2},"quadOut":{"x1":0.4,"y1":0.8,"x2":0.74,"y2":1},"cubic":{"x1":0.66,"y1":0,"x2":0.34,"y2":1},"cubicIn":{"x1":0.4,"y1":0,"x2":0.68,"y2":0.06},"cubicOut":{"x1":0.32,"y1":0.94,"x2":0.6,"y2":1},"quart":{"x1":0.76,"y1":0,"x2":0.24,"y2":1},"quartIn":{"x1":0.52,"y1":0,"x2":0.74,"y2":0},"quartOut":{"x1":0.26,"y1":1,"x2":0.48,"y2":1},"quint":{"x1":0.84,"y1":0,"x2":0.16,"y2":1},"quintIn":{"x1":0.64,"y1":0,"x2":0.78,"y2":0},"quintOut":{"x1":0.22,"y1":1,"x2":0.36,"y2":1},"expo":{"x1":0.9,"y1":0,"x2":0.1,"y2":1},"expoIn":{"x1":0.66,"y1":0,"x2":0.86,"y2":0},"expoOut":{"x1":0.14,"y1":1,"x2":0.34,"y2":1},"circ":{"x1":0.88,"y1":0.14,"x2":0.12,"y2":0.86},"circIn":{"x1":0.54,"y1":0,"x2":1,"y2":0.44},"circOut":{"x1":0,"y1":0.56,"x2":0.46,"y2":1},"back":{"x1":0.68,"y1":-0.55,"x2":0.27,"y2":1.55},"backIn":{"x1":0.6,"y1":-0.28,"x2":0.73,"y2":0.04},"backOut":{"x1":0.17,"y1":0.89,"x2":0.32,"y2":1.27},"linear":{"x1":0,"y1":0,"x2":1,"y2":1}},"ryanSummers":{"pause":{"x1":0,"y1":1,"x2":1,"y2":0},"fs":{"x1":0,"y1":0.45,"x2":0.45,"y2":1},"ffs":{"x1":0,"y1":0.9,"x2":0.45,"y2":1},"fss":{"x1":0,"y1":0.45,"x2":0.1,"y2":1},"sf":{"x1":0.45,"y1":0,"x2":1,"y2":0.45},"sff":{"x1":0.45,"y1":0,"x2":1,"y2":0.15},"ssf":{"x1":0.9,"y1":0,"x2":1,"y2":0.45},"antS1":{"x1":1,"y1":-0.51,"x2":0,"y2":1.51},"antS2":{"x1":0.99,"y1":-2.18,"x2":0.01,"y2":3.18},"antQ1":{"x1":0.5,"y1":-1,"x2":0.5,"y2":2},"antQ2":{"x1":0.5,"y1":-1.5,"x2":0.5,"y2":2.5}},"andrewEmbury":{"smoothOperator":{"x1":0.64,"y1":0.03,"x2":0.07,"y2":0.97},"endlessBummer":{"x1":0.99,"y1":0.03,"x2":0.42,"y2":0.97},"getAround":{"x1":1,"y1":0.07,"x2":0.11,"y2":1},"unknownSoldier":{"x1":0.33,"y1":0.02,"x2":0.11,"y2":1},"spanishCaravan":{"x1":0.76,"y1":0,"x2":0.43,"y2":0.94},"fiveToOne":{"x1":0.32,"y1":0.05,"x2":0.27,"y2":1},"wildInTheStreets":{"x1":0.5,"y1":1,"x2":0.35,"y2":1},"daniel":{"x1":0,"y1":0.1,"x2":0.53,"y2":1.34},"crocodileTears":{"x1":0.47,"y1":1.35,"x2":0.53,"y2":1.33},"crystalShip":{"x1":0.99,"y1":-0.55,"x2":0.73,"y2":1},"10CC":{"x1":0.14,"y1":-0.14,"x2":0,"y2":1},"bishop":{"x1":1,"y1":-0.66,"x2":0.42,"y2":0.97},"scarboroughFair":{"x1":1,"y1":0.06,"x2":0.73,"y2":0.98},"tulsaTime":{"x1":0.19,"y1":2.51,"x2":0.43,"y2":1},"norwegianSkog":{"x1":0.25,"y1":0.51,"x2":0.35,"y2":0.95},"weirdFishes":{"x1":0.88,"y1":0.04,"x2":0.88,"y2":0.95},"braveStrangers":{"x1":0,"y1":0.01,"x2":0,"y2":1},"strangerThanDiction":{"x1":1,"y1":0,"x2":0.74,"y2":1},"theGambler":{"x1":0.47,"y1":-0.48,"x2":0,"y2":1.03},"cracklinRose":{"x1":0.05,"y1":0.03,"x2":0,"y2":1.16}},"matthewLaw":{"10%":{"x1":0.1,"y1":0,"x2":0.9,"y2":1},"20%":{"x1":0.2,"y1":0,"x2":0.8,"y2":1},"30%":{"x1":0.3,"y1":0,"x2":0.7,"y2":1},"40%":{"x1":0.4,"y1":0,"x2":0.6,"y2":1},"50%":{"x1":0.5,"y1":0,"x2":0.5,"y2":1},"60%":{"x1":0.6,"y1":0,"x2":0.4,"y2":1},"70%":{"x1":0.7,"y1":0,"x2":0.3,"y2":1},"80%":{"x1":0.8,"y1":0,"x2":0.2,"y2":1},"90%":{"x1":0.9,"y1":0,"x2":0.1,"y2":1},"100%":{"x1":1,"y1":0,"x2":0,"y2":1}},"justinLawes":{"50-50":{"x1":0.5,"y1":0,"x2":0.5,"y2":1},"0-70":{"x1":0,"y1":0,"x2":0.3,"y2":1},"0-80":{"x1":0,"y1":0,"x2":0.2,"y2":1},"0-90":{"x1":0,"y1":0,"x2":0.1,"y2":1},"0-100":{"x1":0,"y1":0,"x2":0,"y2":1},"60-60":{"x1":0.6,"y1":0,"x2":0.4,"y2":1},"70-70":{"x1":0.7,"y1":0,"x2":0.3,"y2":1},"80-80":{"x1":0.8,"y1":0,"x2":0.2,"y2":1},"90-90":{"x1":0.9,"y1":0,"x2":0.1,"y2":1},"100-100":{"x1":1,"y1":0,"x2":0,"y2":1},"50-90":{"x1":0.5,"y1":0,"x2":0.1,"y2":1},"50-80":{"x1":0.5,"y1":0,"x2":0.2,"y2":1}},"google":{"standard":{"x1":0.4,"y1":0,"x2":0.2,"y2":1},"deceleration":{"x1":0,"y1":0,"x2":0.2,"y2":1},"acceleration":{"x1":0.4,"y1":0,"x2":1,"y2":1},"sharp":{"x1":0.4,"y1":0,"x2":0.6,"y2":1}},"workbench":{"gBOvershoot":{"x1":0.99,"y1":0.03,"x2":0.41,"y2":1.32},"quickShoot":{"x1":0.99,"y1":0.03,"x2":0.48,"y2":2},"mechanical":{"x1":1,"y1":0.86,"x2":0,"y2":0.23},"shaft":{"x1":0.4,"y1":0.65,"x2":0.35,"y2":0.99},"electricSlide":{"x1":0.99,"y1":0.03,"x2":0.47,"y2":0.95},"lunarLander":{"x1":0.22,"y1":0.01,"x2":0.01,"y2":0.96},"lightswitch":{"x1":0.91,"y1":0.04,"x2":0.63,"y2":0.57},"lever2000":{"x1":0.4,"y1":0.05,"x2":0.63,"y2":0.57},"noice":{"x1":0.65,"y1":0.45,"x2":0.24,"y2":0.96},"ohSnap":{"x1":1,"y1":0.72,"x2":0.24,"y2":0.93},"stutter":{"x1":0.11,"y1":0.71,"x2":0.44,"y2":0.08},"clink":{"x1":0,"y1":0.96,"x2":0.94,"y2":0.61},"teleport":{"x1":0.97,"y1":0.17,"x2":0,"y2":0.59},"dropkick":{"x1":0.97,"y1":0.17,"x2":0.03,"y2":-1.62},"antigravity":{"x1":0.95,"y1":0.4,"x2":0.11,"y2":-0.44},"toggle":{"x1":1,"y1":0.77,"x2":0.15,"y2":-0.11},"boltAction":{"x1":0.69,"y1":1.14,"x2":0,"y2":0.55},"velcro":{"x1":0.98,"y1":0.04,"x2":0.01,"y2":0.02},"zip":{"x1":1,"y1":-0.16,"x2":0,"y2":1.2},"magnetism":{"x1":0.64,"y1":0.88,"x2":0.97,"y2":0.33}}}')},9364:function(e,t,r){const a=r("f319"),i=r("9bf4"),n=r("1982"),o=r("af9a");t.cache=new i,t.getFunctions=(e,r)=>t.cache.getOrSet(e,async()=>{const a=await n.exposedMiniget(e,r).text(),i=t.extractFunctions(a);if(!i||!i.length)throw Error("Could not extract functions");return t.cache.set(e,i),i}),t.extractFunctions=e=>{const t=[],r=t=>{const r=n.between(t,'a=a.split("");',".");if(!r)return"";const a=`var ${r}={`,i=e.indexOf(a);if(i<0)return"";const o=e.slice(i+a.length-1);return`var ${r}=${n.cutAfterJSON(o)}`},a=()=>{const a=n.between(e,'a.set("alr","yes");c&&(c=',"(decodeURIC");if(a&&a.length){const i=a+"=function(a)",o=e.indexOf(i);if(o>=0){const s=e.slice(o+i.length);let l=`var ${i}${n.cutAfterJSON(s)}`;l=`${r(l)};${l};${a}(sig);`,t.push(l)}}},i=()=>{let r=n.between(e,'&&(b=a.get("n"))&&(b=',"(b)");if(r.includes("[")&&(r=n.between(e,r.split("[")[0]+"=[","]")),r&&r.length){const a=r+"=function(a)",i=e.indexOf(a);if(i>=0){const o=e.slice(i+a.length),s=`var ${a}${n.cutAfterJSON(o)};${r}(ncode);`;t.push(s)}}};return a(),i(),t},t.setDownloadURL=(e,t,r)=>{const i=e=>{const r=a.parse(e);if(!r.s||!t)return r.url;const i=new URL(decodeURIComponent(r.url));return i.searchParams.set(r.sp?r.sp:"signature",t.runInNewContext({sig:decodeURIComponent(r.s)})),i.toString()},n=e=>{const t=new URL(decodeURIComponent(e)),a=t.searchParams.get("n");return a&&r?(t.searchParams.set("n",r.runInNewContext({ncode:a})),t.toString()):e},o=!e.url,s=e.url||e.signatureCipher||e.cipher;e.url=n(o?i(s):s),delete e.signatureCipher,delete e.cipher},t.decipherFormats=async(e,r,a)=>{let i={},n=await t.getFunctions(r,a);const s=n.length?new o.Script(n[0]):null,l=n.length>1?new o.Script(n[1]):null;return e.forEach(e=>{t.setDownloadURL(e,s,l),i[e.url]=e}),i}},"949d":function(e,t,r){const a=r("9ac2").PassThrough,i=r("7b39"),n=r("1982"),o=r("fcd9"),s=r("266c"),l=r("9364"),c=r("65dc"),u=r("c333"),{parseTimestamp:d}=r("c333"),p=(e,t)=>{const r=m(t);return p.getInfo(e,t).then(e=>{y(r,e,t)},r.emit.bind(r,"error")),r};e.exports=p,p.getBasicInfo=i.getBasicInfo,p.getInfo=i.getInfo,p.chooseFormat=o.chooseFormat,p.filterFormats=o.filterFormats,p.validateID=s.validateID,p.validateURL=s.validateURL,p.getURLVideoID=s.getURLVideoID,p.getVideoID=s.getVideoID,p.cache={sig:l.cache,info:i.cache,watch:i.watchPageCache,cookie:i.cookieCache},p.version=r("cd64").version;const m=e=>{const t=new a({highWaterMark:e&&e.highWaterMark||524288});return t._destroy=()=>{t.destroyed=!0},t},h=(e,t,r)=>{["abort","request","response","error","redirect","retry","reconnect"].forEach(r=>{e.prependListener(r,t.emit.bind(t,r))}),e.pipe(t,{end:r})},y=(e,t,r)=>{r=r||{};let a,i=n.playError(t.player_response,["UNPLAYABLE","LIVE_STREAM_OFFLINE","LOGIN_REQUIRED"]);if(i)return void e.emit("error",i);if(!t.formats.length)return void e.emit("error",Error("This video is unavailable"));try{a=o.chooseFormat(t.formats,r)}catch(b){return void e.emit("error",b)}if(e.emit("info",t,a),e.destroyed)return;let s,l=0;const p=t=>{l+=t.length,e.emit("progress",t.length,l,s)},m=r.dlChunkSize||10485760;let y,f=!0;if(a.isHLS||a.isDashMPD)y=u(a.url,{chunkReadahead:+t.live_chunk_readahead,begin:r.begin||a.isLive&&Date.now(),liveBuffer:r.liveBuffer,requestOptions:r.requestOptions,parser:a.isDashMPD?"dash-mpd":"m3u8",id:a.itag}),y.on("progress",(t,r)=>{e.emit("progress",t.size,t.num,r)}),h(y,e,f);else{const t=Object.assign({},r.requestOptions,{maxReconnects:6,maxRetries:3,backoff:{inc:500,max:1e4}});let i=0!==m&&(!a.hasAudio||!a.hasVideo);if(i){let i=r.range&&r.range.start||0,n=i+m;const o=r.range&&r.range.end;s=r.range?(o?o+1:parseInt(a.contentLength))-i:parseInt(a.contentLength);const l=()=>{!o&&n>=s&&(n=0),o&&n>o&&(n=o),f=!n||n===o,t.headers=Object.assign({},t.headers,{Range:`bytes=${i}-${n||""}`}),y=c(a.url,t),y.on("data",p),y.on("end",()=>{e.destroyed||n&&n!==o&&(i=n+1,n+=m,l())}),h(y,e,f)};l()}else r.begin&&(a.url+="&begin="+d(r.begin)),r.range&&(r.range.start||r.range.end)&&(t.headers=Object.assign({},t.headers,{Range:`bytes=${r.range.start||"0"}-${r.range.end||""}`})),y=c(a.url,t),y.on("response",t=>{e.destroyed||(s=s||parseInt(t.headers["content-length"]))}),y.on("data",p),h(y,e,f)}e._destroy=()=>{e.destroyed=!0,y.destroy(),y.end()}};p.downloadFromInfo=(e,t)=>{const r=m(t);if(!e.full)throw Error("Cannot use `ytdl.downloadFromInfo()` when called with info from `ytdl.getBasicInfo()`");return setImmediate(()=>{y(r,e,t)}),r}},"9bf4":function(e,t,r){const{setTimeout:a}=r("4600");e.exports=class extends Map{constructor(e=1e3){super(),this.timeout=e}set(e,t){this.has(e)&&clearTimeout(super.get(e).tid),super.set(e,{tid:a(this.delete.bind(this,e),this.timeout).unref(),value:t})}get(e){let t=super.get(e);return t?t.value:null}getOrSet(e,t){if(this.has(e))return this.get(e);{let r=t();return this.set(e,r),(async()=>{try{await r}catch(t){this.delete(e)}})(),r}}delete(e){let t=super.get(e);t&&(clearTimeout(t.tid),super.delete(e))}clear(){for(let e of this.values())clearTimeout(e.tid);super.clear()}}},aa09:function(e,t,r){"use strict";r("b2b6")},b2b6:function(e,t,r){},b3d3:function(e,t,r){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r("9ac2"),n=a(r("3171")),o=r("2053");class s extends i.Writable{constructor(e){let t;super(),this._parser=n.default.createStream(!1,{lowercase:!0}),this._parser.on("error",this.destroy.bind(this));let r,a,i,s,l,c,u,d,p=0,m=0,h=[],y=!1,f=!1;const b=t=>{const r={RepresentationID:e,Number:m,Time:p};return t.replace(/\$(\w+)\$/g,(e,t)=>""+r[t])};this._parser.on("opentag",n=>{switch(n.name){case"mpd":p=n.attributes.availabilitystarttime?new Date(n.attributes.availabilitystarttime).getTime():0,c="dynamic"!==n.attributes.type;break;case"period":m=0,a=1e3,s=0,i=0,l=[],u=0,d=o.durationStr(n.attributes.start)||0;break;case"segmentlist":m=parseInt(n.attributes.startnumber)||m,a=parseInt(n.attributes.timescale)||a,s=parseInt(n.attributes.duration)||s,i=parseInt(n.attributes.presentationtimeoffset)||i;break;case"segmenttemplate":r=n.attributes,m=parseInt(n.attributes.startnumber)||m,a=parseInt(n.attributes.timescale)||a;break;case"segmenttimeline":case"baseurl":t=n.name;break;case"s":h.push({duration:parseInt(n.attributes.d),repeat:parseInt(n.attributes.r),time:parseInt(n.attributes.t)});break;case"adaptationset":case"representation":u++,e||(e=n.attributes.id),y=n.attributes.id===""+e,y&&(d&&(p+=d),i&&(p-=i/a*1e3),this.emit("starttime",p));break;case"initialization":y&&this.emit("item",{url:l.filter(e=>!!e).join("")+n.attributes.sourceurl,seq:m,init:!0,duration:0});break;case"segmenturl":if(y){f=!0;let e=h.shift(),t=((null===e||void 0===e?void 0:e.duration)||s)/a*1e3;this.emit("item",{url:l.filter(e=>!!e).join("")+n.attributes.media,seq:m++,duration:t}),p+=t}break}});const g=()=>{c&&this.emit("endlist"),y?this.emit("end"):this.destroy(Error(`Representation '${e}' not found`))};this._parser.on("closetag",e=>{switch(e){case"adaptationset":case"representation":if(u--,r&&h.length){f=!0,r.initialization&&this.emit("item",{url:l.filter(e=>!!e).join("")+b(r.initialization),seq:m,init:!0,duration:0});for(let{duration:e,repeat:t,time:i}of h){e=e/a*1e3,t=t||1,p=i||p;for(let a=0;a<t;a++)this.emit("item",{url:l.filter(e=>!!e).join("")+b(r.media),seq:m++,duration:e}),p+=e}}f&&(this.emit("endearly"),g(),this._parser.removeAllListeners(),this.removeAllListeners("finish"));break}}),this._parser.on("text",e=>{"baseurl"===t&&(l[u]=e,t=null)}),this.on("finish",g)}_write(e,t,r){this._parser.write(e),r()}}t.default=s},b6b4:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"progress-bar-wrapper",style:{top:e.realTop,opacity:(e.value,1)}},[r("div",{staticClass:"progress-bar-container"},[r("div",{staticClass:"progress-bar-value",style:{width:e.realPercent,height:e.realSize,background:e.realColor,"transition-property":"width","transition-delay":e.delay,"transition-duration":e.duration,"transition-timing-function":e.timing}})])])},i=[],n=(r("a9e3"),r("ac1f"),r("5319"),r("99af"),{props:{percent:{type:Number,default:0},delay:{type:String,default:"20ms"},duration:{type:String,default:"120ms"},timing:{type:String,default:"var(--quad)"},size:{type:Number,default:2},color:{type:String,default:""},value:{type:Number,default:0},debug:{type:Boolean,default:!1}},computed:{realPercent:function(){return"".concat(this.realValue,"%")},realTransition:function(){return"width ".concat(this.timing)},realSize:function(){return"".concat(this.size,"px")},realColor:function(){return this.color.length?/-/.test(this.color)?"var(--color-".concat(this.color.replace(/var\(/,"").replace(/(--color-|color-)/,"").replace(/\)$/,""),")"):this.color:"var(--color-selection);"}},data:function(){return{realValue:0,realTop:0,locked:!1}},mounted:function(){this.realValue=this.percent||this.value,this.getRealTop()},watch:{realTop:function(e){this.debug&&console.log("Top is now:",e)},percent:function(e){this.realValue=e},value:function(e){this.realValue=e>=0&&e<=100?e:e>=100?100:0},realValue:function(e,t){var r=this;this.debug&&console.log("VALUE:",this.realValue,"LAST VAL:",t),e>=100||e<=0||t>=100||t<=0?(this.getRealTop(),this.debug&&console.log("Toggle top first..."),setTimeout((function(){r.realValue=e>=0&&e<=100?e:e>=100?100:0}),220)):(this.debug&&console.log("No toggle"),this.realValue=e>=0&&e<=100?e:e>=100?100:0),this.debug&&e>=100&&(this.locked=!0,setTimeout((function(){r.reset()}),520)),this.$emit("input",e)}},methods:{getRealTop:function(){var e="".concat(this.value>=100||this.percent>=100?-1*this.size:this.value>0||this.percent>0?this.size:-1*this.size,"px");this.realTop=e},getProgressStyle:function(){var e="";return e+="height: ".concat(this.size,"; width: ").concat(this.realValue,"%;"),e},reset:function(){this.debug&&console.log("RESET"),this.$emit("reset"),this.realValue=0,this.locked=!1}}}),o=n,s=(r("aa09"),r("2877")),l=Object(s["a"])(o,a,i,!1,null,null,null);t["default"]=l.exports},bb51:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("Wrapper",{staticClass:"home-wrapper"},[r("div",{staticClass:"error-container",on:{mouseenter:function(t){e.hoverError=!0},mouseleave:function(t){e.hoverError=!1}}},[r("div",{staticClass:"error-content"},[r("Icon",{staticStyle:{"margin-top":"-6px","margin-right":"6px"},attrs:{name:"alert-circle"}}),r("Anno",[e._v(e._s(e.errorText))])],1),r("Button",{attrs:{flat:"",icon:"close",width:"20px"},on:{click:e.closeError}})],1),r("Progress-Bar",{attrs:{delay:"0ms",duration:"60ms",percent:e.progress,size:3}}),r("Input",{attrs:{label:"URL",flat:"",placeholder:"http://youtube.com/...",clearable:"","prefs-id":"url"},on:{update:e.checkURL,focus:function(t){e.hasFocus=!0},blur:function(t){e.hasFocus=!1},prefs:function(t){return e.url=t.value}},model:{value:e.url,callback:function(t){e.url=t},expression:"url"}}),r("Fold",{attrs:{label:"Settings",open:!0}},[r("div",{staticClass:"picker-row"},[r("div",{staticStyle:{width:"24px"}},[r("Toggle",{model:{value:e.useCustomDir,callback:function(t){e.useCustomDir=t},expression:"useCustomDir"}})],1),r("File-Picker",{attrs:{folder:"",clearable:"",disabled:!e.useCustomDir,fullPath:!0,label:"Output folder","prefs-id":"folder"},on:{prefs:e.updateOutput,input:e.updateOutput,clear:function(){return e.outputFolder=""}}})],1),r("div",{staticClass:"toggle-wrapper"},[r("Toggle",{staticStyle:{"margin-right":"16px"},attrs:{label:"Audio only"},model:{value:e.audioOnly,callback:function(t){e.audioOnly=t},expression:"audioOnly"}}),r("Toggle",{staticStyle:{"margin-right":"16px"},attrs:{label:"Video only"},model:{value:e.videoOnly,callback:function(t){e.videoOnly=t},expression:"videoOnly"}})],1)]),r("Fold",{attrs:{label:"Preview",open:!0}},[r("div",{staticClass:"skeleton"},[r("div",{staticClass:"skeleton-content"},[e.hasValidURL?r("img",{staticClass:"video-thumbnail",attrs:{src:e.thumbnail}}):r("div",{staticClass:"placeholder"},[r("Anno",{attrs:{uppercase:""}},[e._v(e._s(e.urlErrorMessage))])],1)])]),r("div",{staticStyle:{"margin-top":"8px"}}),r("Anno",{attrs:{size:"11px",color:e.validURL?"":"var(--color-btn-disabled-text)"}},[e._v(e._s(e.vidDescription))])],1),r("Divider"),r("Button",{attrs:{disabled:!e.canDownload,label:e.contextualLabelString,uppercase:"",icon:e.hasDownloaded?"check":e.isDownloading?"":"download",block:"",color:e.isComplete?"var(--color-selection)":"var(--color-button-primary)"},on:{click:e.beginDownload}})],1)},i=[],n=r("5530"),o=r("1da1"),s=(r("99af"),r("7db0"),r("4de4"),r("ac1f"),r("5319"),r("b0c0"),r("d3b7"),r("96cf"),r("2f62"));const l=r("8dba");function c(e){return`cubic-bezier(${e.x1}, ${e.y1}, ${e.x2}, ${e.y2})`}function u(e){return e=e.slug(),l[e]?d(e):(console.error(`Library of name '${e}' does not exist. Must be one of: ${Object.keys(l).map(e=>`"${e.slug()}"`).join(", ")}`),null)}function d(e){let t={};for(let r in l[e.slug()])t[r]=c(l[e.slug()][r]);return t}function p(){let e={};for(let t in l){e[t]={};for(let r in l[t])e[t][r]=c(l[t][r])}return e}function m(){let e=p();for(let t in e)for(let r in e[t])b(r,e[t][r]);return!0}function h(e){let t=u(e.slug());for(let r in t)b(r,t[r]);return!0}function y(e){let t=!1;for(let r in l)if(!t){let a=Object.keys(l[r]),i=a.find(t=>{e.slug()});t&&(i=r)}return t?c(l[match][e.slug()]):(console.error(`No animation with name ${e.slug()} found.`),null)}function f(e){return window.getComputedStyle(document.documentElement).getPropertyValue(""+(/^\-\-/.test(e)?e:"--"+e))}function b(e,t){document.documentElement.style.setProperty(""+(/^\-\-/.test(e)?e:"--"+e),t)}String.slug||(String.prototype.slug=function(){let e=this[0].toLowerCase()+this.substring(1);return e.replace(/\s/gm,"").replace(/\&.{3,5}\;/gm,"").trim()});const g={getCSS:f,setCSS:b,getLibraryByAuthor:u,getAll:p,assignAll:m,assignLibraryByAuthor:h,getByName:y};var T=g,v=r("a779"),x=r("2e38"),w=r("9b0f"),E=r("949d"),_={components:{"Progress-Bar":r("b6b4").default},data:function(){return{progress:0,url:"",validURL:!1,title:"",thumbnail:"",hasFocus:!1,testedURL:!1,channelLink:"",channelName:"",outputFolder:"",totalChunkSize:0,addedAudioChunks:!0,addedVideoChunks:!1,hasDownloaded:!1,isDownloading:!1,useRootDir:!1,chunkPrefix:0,isComplete:!1,contextText:"",hasError:!1,errorText:"Something went wrong",hoverError:!1}},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:T.assignLibraryByAuthor("google"),e.getSettings(),console.log(e.settings),e.url.length&&e.checkURL(e.url);case 4:case"end":return t.stop()}}),t)})))()},computed:Object(n["a"])(Object(n["a"])({},Object(s["c"])("settings",["settings"])),{},{contextualLabelString:function(){return this.isComplete?"Done":this.isDownloading&&!this.hasDownloaded?"".concat(this.contextText," ").concat(this.progress,"%"):this.hasDownloaded?this.contextText:"Snatch ".concat(this.snatchContext)},snatchContext:function(){return this.videoOnly?"best video":this.audioOnly?"best audio":this.bestQuality?"best video/audio":"fastest good quality"},useCustomDir:{get:function(){return!this.settings.useRootDir},set:function(e){if(this.setUseRootDir(!e),e){var t=window.localStorage,r=t.getItem("brutalism-prefs");if(r&&(r=JSON.parse(r),r&&r.filepicker)){var a=r.filepicker.find((function(e){return"folder"==e.id}));a&&(this.outputFolder=a.value)}}}},audioOnly:{get:function(){return this.settings.audioOnly},set:function(e){this.setAudioOnly(e)}},videoOnly:{get:function(){return this.settings.videoOnly},set:function(e){this.setVideoOnly(e)}},bestQuality:{get:function(){return this.settings.bestQuality},set:function(e){this.setBestQuality(e)}},canDownload:function(){return this.hasValidURL&&!this.isDownloading&&!this.hasDownloaded},vidDescription:function(){return this.validURL?this.realTitle:"No title"},realTitle:function(){return this.title&&this.validURL?this.title:"N/A"},urlErrorMessage:function(){return this.hasNoURL?"No URL queried":this.testedURL?this.hasFocus?"Ready to query":this.validURL?"Working...":"Invalid URL":"Ready to query"},hasNoURL:function(){return!this.url||!this.url.length},hasValidURL:function(){return!this.hasNoURL&&this.validURL},outputPath:function(){return"".concat(this.outputFolder,"/").concat(this.title,".").concat(this.audioOnly?"wav":"mp4")}}),watch:{settings:{handler:function(){this.hasDownloaded&&(this.isComplete=!1,this.hasDownloaded=!1,this.isDownloading=!1)},deep:!0},hasError:function(e){var t=this;this.setCSS("--error-top","".concat(e?0:-70,"px"));this.getCSS("--error-top");e?setTimeout((function(){document.addEventListener("click",t.closeError,{once:!0})}),120):(document.removeEventListener("click",this.closeError),this.progress=0)}},methods:Object(n["a"])(Object(n["a"])({},Object(s["b"])("settings",["setUseRootDir","setUrl","setBestQuality","setOutputDir","setAudioOnly","setVideoOnly","getSettings"])),{},{closeError:function(){this.hasError=!1},ytdlOptions:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,E.getInfo(e.url);case 2:if(r=t.sent,!e.videoOnly){t.next=8;break}return a=E.filterFormats(r.formats,"videoonly").filter((function(e){return"mp4"==e.container&&0==e.hasAudio&&399!==e.itag})).sort((function(e,t){return t.height-e.height})),t.abrupt("return",{quality:a[0].itag});case 8:if(!e.audioOnly){t.next=12;break}E.filterFormats(r.formats,"audioonly").filter((function(e){return"m4a"==e.container&&0==e.hasVideo&&141!==e.itag})),t.next=13;break;case 12:return t.abrupt("return",{filter:"audioandvideo",quality:"highestvideo"});case 13:case"end":return t.stop()}}),t)})))()},updateOutput:function(e){Array.isArray(e)&&e.length?this.outputFolder=e[0]:console.error("Unexpected non-Array fed into File-Picker:",e)},createError:function(e){this.isDownloading=!1,this.hasDownloaded=!1,this.isComplete=!1,this.contextText="",this.percent=0,this.hasError=!0,this.errorText=e},checkURL:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.setUrl(e),t.testedURL=!1,t.hasDownloaded=!1,r.prev=3,r.next=6,E.getInfo(e).catch((function(e){t.validURL=!1,t.testedURL=!0}));case 6:a=r.sent,t.title=a.player_response.videoDetails.title.replace(/[/\\?%*:|"<>]/g,"-"),t.thumbnail=a.player_response.microformat.playerMicroformatRenderer.thumbnail.thumbnails[0].url,t.channelLink=a.player_response.videoDetails.ownerProfileUrl,t.channelName=a.player_response.videoDetails.author.name||a.player_response.videoDetails.author,t.validURL=!0,t.testedURL=!0,r.next=22;break;case 15:return r.prev=15,r.t0=r["catch"](3),console.error(r.t0),t.validURL=!1,t.testedURL=!0,t.clearData(),r.abrupt("return",!1);case 22:case"end":return r.stop()}}),r,null,[[3,15]])})))()},getParentRootFromJSX:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log("Get root parent:"),"AEFT"!=x["default"].appName){t.next=7;break}return t.next=4,Object(v["C"])("(function() {\n          return File(app.project.file).parent.fsName;\n        }())");case 4:r=t.sent,t.next=14;break;case 7:if("AUDT"!=x["default"].appName){t.next=11;break}return t.abrupt("return",null);case 11:return t.next=13,Object(v["C"])("(function() {\n          return File(app.project.path).parent.fsName;\n        }())");case 13:r=t.sent;case 14:if(console.log(r),!/evalscript\serror/i.test(r)){t.next=19;break}return console.error("Eval error, silent failure"),e.createError("Project must be saved first"),t.abrupt("return",null);case 19:return t.abrupt("return",r.replace(/\\/g,"/").replace(/\/$/,""));case 20:case"end":return t.stop()}}),t)})))()},beginDownload:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,a,i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.canDownload){t.next=3;break}return console.error("Func is running without valid URL or params"),t.abrupt("return",null);case 3:if(e.progress=e.chunkPrefix=0,e.isDownloading=!0,e.hasDownloaded=!1,e.isComplete=!1,e.useCustomDir){t.next=24;break}return e.contextText="Retrieving project filepath",t.next=11,e.getParentRootFromJSX();case 11:if(r=t.sent,!r){t.next=22;break}if(console.log(e.outputFolder),!(/(support files|library)/i.test(r)&&/adobe (after effects|premiere pro) \d{1,}/i.test(r)||/applications/i.test(r)&&/adobe/i.test(r))){t.next=19;break}return e.createError("Must save project before using it's root path"),t.abrupt("return",null);case 19:e.outputFolder=r;case 20:t.next=24;break;case 22:return e.isDownloading=!1,t.abrupt("return",null);case 24:t.prev=24,w.existsSync(e.outputPath)?(console.log("File exists:",e.outputPath),w.unlinkSync(e.outputPath)):console.log("File does not exist:",e.outputPath),t.next=37;break;case 28:return t.prev=28,t.t0=t["catch"](24),e.createError("File of this same path is already in use and locked by the app"),console.error("Not able to delete previous file:",t.t0),e.isDownloading=!1,e.progress=0,e.isComplete=!1,e.hasDownloaded=!1,t.abrupt("return",null);case 37:return a=!1,t.next=40,e.downloadAndInjectVideoYTDL().catch((function(e){return a=!0,null}));case 40:if(i=t.sent,!a){t.next=43;break}return t.abrupt("return",null);case 43:if(!i){t.next=50;break}return t.next=46,Object(v["C"])(e.generateJSXText());case 46:n=t.sent,console.log(n),t.next=51;break;case 50:e.createError("Youtube video not available for download");case 51:e.isDownloading=!1,e.isComplete=!0;case 53:case"end":return t.stop()}}),t,null,[[24,28]])})))()},downloadAndInjectVideoYTDL:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.contextText="Determining best format",t.next=3,e.ytdlOptions();case 3:return r=t.sent,t.abrupt("return",new Promise((function(t,a){e.contextText="Snatching",e.progress=0,e.hasDownloaded=!1,e.isDownloading=!0;try{E(e.url,r).on("progress",(function(t,r,a){e.progress=Math.round(r/a*100)})).on("finish",(function(){e.hasDownloaded=!0,e.isDownloading=!1,t(!0)})).on("error",(function(t){console.error(t),e.createError("Video unavailable"),a(!1)})).pipe(w.createWriteStream(e.outputPath)).on("error",(function(t){e.createError("Cannot overwrite file already in use"),e.progress=0,e.isDownloading=!1,a(null)}))}catch(i){console.error(i),e.createError("Video unavailable")}})));case 5:case"end":return t.stop()}}),t)})))()},generateJSXText:function(){return"PPRO"==x["default"].appName?'app.project.importFiles([new File("'.concat(this.outputPath.replace(/\\/gm,"/").replace(/\//gm,"\\\\"),'").fsName]);'):"AEFT"==x["default"].appName?'app.project.importFile(new ImportOptions(new File("'.concat(this.outputPath.replace(/\\/gm,"/").replace(/\//gm,"\\\\"),'")));'):void 0},clearData:function(){this.progress=0,this.title="",this.validURL=!1,this.channelLink="",this.channelName="",this.hasDownloaded=!1,this.isDownloading=!1,this.isComplete=!1},setCSS:function(e,t){document.documentElement.style.setProperty("".concat(/^\-\-/.test(e)?e:"--"+e),t)},getCSS:function(e){return window.getComputedStyle(document.documentElement).getPropertyValue("".concat(/^\-\-/.test(e)?e:"--"+e))}})},R=_,I=(r("cccb"),r("2877")),D=Object(I["a"])(R,a,i,!1,null,null,null);t["default"]=D.exports},c333:function(e,t,r){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};const i=r("9ac2"),n=a(r("65dc")),o=a(r("78a9")),s=a(r("b3d3")),l=r("0af3"),c=r("2053"),u={m3u8:o.default,"dash-mpd":s.default};let d=(e,t={})=>{const r=new i.PassThrough({highWaterMark:t.highWaterMark}),a=t.chunkReadahead||3,o=t.liveBuffer||2e4,s=t.requestOptions,d=u[t.parser||(/\.mpd$/.test(e)?"dash-mpd":"m3u8")];if(!d)throw TypeError(`parser '${t.parser}' not supported`);let p=0;"undefined"!==typeof t.begin&&(p="string"===typeof t.begin?c.humanStr(t.begin):Math.max(t.begin-o,0));const m=e=>{for(let t of["abort","request","response","redirect","retry","reconnect"])e.on(t,r.emit.bind(r,t))};let h;const y=new l.Queue((e,t)=>{h=e;let a=0;e.on("data",e=>a+=e.length),e.pipe(r,{end:!1}),e.on("end",()=>t(null,a))},{concurrency:1});let f=0,b=0;const g=new l.Queue((t,a)=>{let i=Object.assign({},s);t.range&&(i.headers=Object.assign({},i.headers,{Range:`bytes=${t.range.start}-${t.range.end}`}));let o=n.default(new URL(t.url,e).toString(),i);o.on("error",a),m(o),y.push(o,(e,i)=>{b+=+i,r.emit("progress",{num:++f,size:i,duration:t.duration,url:t.url},g.total,b),a(null)})},{concurrency:a}),T=e=>{r.emit("error",e),r.end()};let v,x,w,E,_=!0,R=!1,I=!1;const D=e=>{if(h=null,e)T(e);else if(!_&&!R&&!I&&g.tasks.length+g.active<=v){let e=Math.max(0,x-(Date.now()-E));_=!0,w=setTimeout(O,e)}else!R&&!I||g.tasks.length||g.active||r.end()};let L,A,N=0;const O=()=>{E=Date.now(),L=n.default(e,s),L.on("error",T),m(L);const r=L.pipe(new d(t.id));r.on("starttime",e=>{N||(N=e,"string"===typeof t.begin&&p>=0&&(p+=N))}),r.on("endlist",()=>{I=!0}),r.on("endearly",L.unpipe.bind(L,r));let a=[];const i=e=>{if(!e.init){if(e.seq<=A)return;A=e.seq}p=e.time,g.push(e,D),a.push(e)};let l=[],c=0;r.on("item",e=>{let t=Object.assign({time:N},e);if(p<=t.time)i(t);else{l.push(t),c+=t.duration;while(l.length>1&&c-l[0].duration>o){const e=l.shift();c-=e.duration}}N+=t.duration}),r.on("end",()=>{L=null,!a.length&&l.length&&l.forEach(e=>{i(e)}),v=Math.max(1,Math.ceil(.01*a.length)),x=a.reduce((e,t)=>t.duration+e,0),_=!1,D(null)})};return O(),r.end=()=>(R=!0,y.die(),g.die(),clearTimeout(w),null===L||void 0===L||L.destroy(),null===h||void 0===h||h.destroy(),i.PassThrough.prototype.end.call(r,null),r),r};d.parseTimestamp=c.humanStr,e.exports=d},cccb:function(e,t,r){"use strict";r("5ced")},cd64:function(e){e.exports=JSON.parse('{"name":"ytdl-core","description":"YouTube video downloader in pure javascript.","keywords":["youtube","video","download"],"version":"4.10.1","repository":{"type":"git","url":"git://github.com/fent/node-ytdl-core.git"},"author":"fent <fentbox@gmail.com> (https://github.com/fent)","contributors":["Tobias Kutscha (https://github.com/TimeForANinja)","Andrew Kelley (https://github.com/andrewrk)","Mauricio Allende (https://github.com/mallendeo)","Rodrigo Altamirano (https://github.com/raltamirano)","Jim Buck (https://github.com/JimmyBoh)"],"main":"./lib/index.js","types":"./typings/index.d.ts","files":["lib","typings"],"scripts":{"test":"nyc --reporter=lcov --reporter=text-summary npm run test:unit","test:unit":"mocha --ignore test/irl-test.js test/*-test.js --timeout 4000","test:irl":"mocha --timeout 16000 test/irl-test.js","lint":"eslint ./","lint:fix":"eslint --fix ./","lint:typings":"tslint typings/index.d.ts","lint:typings:fix":"tslint --fix typings/index.d.ts"},"dependencies":{"m3u8stream":"^0.8.6","miniget":"^4.0.0","sax":"^1.1.3"},"devDependencies":{"@types/node":"^13.1.0","assert-diff":"^3.0.1","dtslint":"^3.6.14","eslint":"^6.8.0","mocha":"^7.0.0","muk-require":"^1.2.0","nock":"^13.0.4","nyc":"^15.0.0","sinon":"^9.0.0","stream-equal":"~1.1.0","typescript":"^3.9.7"},"engines":{"node":">=10"},"license":"MIT"}')},e33f:function(e,t){e.exports={5:{mimeType:'video/flv; codecs="Sorenson H.283, mp3"',qualityLabel:"240p",bitrate:25e4,audioBitrate:64},6:{mimeType:'video/flv; codecs="Sorenson H.263, mp3"',qualityLabel:"270p",bitrate:8e5,audioBitrate:64},13:{mimeType:'video/3gp; codecs="MPEG-4 Visual, aac"',qualityLabel:null,bitrate:5e5,audioBitrate:null},17:{mimeType:'video/3gp; codecs="MPEG-4 Visual, aac"',qualityLabel:"144p",bitrate:5e4,audioBitrate:24},18:{mimeType:'video/mp4; codecs="H.264, aac"',qualityLabel:"360p",bitrate:5e5,audioBitrate:96},22:{mimeType:'video/mp4; codecs="H.264, aac"',qualityLabel:"720p",bitrate:2e6,audioBitrate:192},34:{mimeType:'video/flv; codecs="H.264, aac"',qualityLabel:"360p",bitrate:5e5,audioBitrate:128},35:{mimeType:'video/flv; codecs="H.264, aac"',qualityLabel:"480p",bitrate:8e5,audioBitrate:128},36:{mimeType:'video/3gp; codecs="MPEG-4 Visual, aac"',qualityLabel:"240p",bitrate:175e3,audioBitrate:32},37:{mimeType:'video/mp4; codecs="H.264, aac"',qualityLabel:"1080p",bitrate:3e6,audioBitrate:192},38:{mimeType:'video/mp4; codecs="H.264, aac"',qualityLabel:"3072p",bitrate:35e5,audioBitrate:192},43:{mimeType:'video/webm; codecs="VP8, vorbis"',qualityLabel:"360p",bitrate:5e5,audioBitrate:128},44:{mimeType:'video/webm; codecs="VP8, vorbis"',qualityLabel:"480p",bitrate:1e6,audioBitrate:128},45:{mimeType:'video/webm; codecs="VP8, vorbis"',qualityLabel:"720p",bitrate:2e6,audioBitrate:192},46:{mimeType:'audio/webm; codecs="vp8, vorbis"',qualityLabel:"1080p",bitrate:null,audioBitrate:192},82:{mimeType:'video/mp4; codecs="H.264, aac"',qualityLabel:"360p",bitrate:5e5,audioBitrate:96},83:{mimeType:'video/mp4; codecs="H.264, aac"',qualityLabel:"240p",bitrate:5e5,audioBitrate:96},84:{mimeType:'video/mp4; codecs="H.264, aac"',qualityLabel:"720p",bitrate:2e6,audioBitrate:192},85:{mimeType:'video/mp4; codecs="H.264, aac"',qualityLabel:"1080p",bitrate:3e6,audioBitrate:192},91:{mimeType:'video/ts; codecs="H.264, aac"',qualityLabel:"144p",bitrate:1e5,audioBitrate:48},92:{mimeType:'video/ts; codecs="H.264, aac"',qualityLabel:"240p",bitrate:15e4,audioBitrate:48},93:{mimeType:'video/ts; codecs="H.264, aac"',qualityLabel:"360p",bitrate:5e5,audioBitrate:128},94:{mimeType:'video/ts; codecs="H.264, aac"',qualityLabel:"480p",bitrate:8e5,audioBitrate:128},95:{mimeType:'video/ts; codecs="H.264, aac"',qualityLabel:"720p",bitrate:15e5,audioBitrate:256},96:{mimeType:'video/ts; codecs="H.264, aac"',qualityLabel:"1080p",bitrate:25e5,audioBitrate:256},100:{mimeType:'audio/webm; codecs="VP8, vorbis"',qualityLabel:"360p",bitrate:null,audioBitrate:128},101:{mimeType:'audio/webm; codecs="VP8, vorbis"',qualityLabel:"360p",bitrate:null,audioBitrate:192},102:{mimeType:'audio/webm; codecs="VP8, vorbis"',qualityLabel:"720p",bitrate:null,audioBitrate:192},120:{mimeType:'video/flv; codecs="H.264, aac"',qualityLabel:"720p",bitrate:2e6,audioBitrate:128},127:{mimeType:'audio/ts; codecs="aac"',qualityLabel:null,bitrate:null,audioBitrate:96},128:{mimeType:'audio/ts; codecs="aac"',qualityLabel:null,bitrate:null,audioBitrate:96},132:{mimeType:'video/ts; codecs="H.264, aac"',qualityLabel:"240p",bitrate:15e4,audioBitrate:48},133:{mimeType:'video/mp4; codecs="H.264"',qualityLabel:"240p",bitrate:2e5,audioBitrate:null},134:{mimeType:'video/mp4; codecs="H.264"',qualityLabel:"360p",bitrate:3e5,audioBitrate:null},135:{mimeType:'video/mp4; codecs="H.264"',qualityLabel:"480p",bitrate:5e5,audioBitrate:null},136:{mimeType:'video/mp4; codecs="H.264"',qualityLabel:"720p",bitrate:1e6,audioBitrate:null},137:{mimeType:'video/mp4; codecs="H.264"',qualityLabel:"1080p",bitrate:25e5,audioBitrate:null},138:{mimeType:'video/mp4; codecs="H.264"',qualityLabel:"4320p",bitrate:135e5,audioBitrate:null},139:{mimeType:'audio/mp4; codecs="aac"',qualityLabel:null,bitrate:null,audioBitrate:48},140:{mimeType:'audio/m4a; codecs="aac"',qualityLabel:null,bitrate:null,audioBitrate:128},141:{mimeType:'audio/mp4; codecs="aac"',qualityLabel:null,bitrate:null,audioBitrate:256},151:{mimeType:'video/ts; codecs="H.264, aac"',qualityLabel:"720p",bitrate:5e4,audioBitrate:24},160:{mimeType:'video/mp4; codecs="H.264"',qualityLabel:"144p",bitrate:1e5,audioBitrate:null},171:{mimeType:'audio/webm; codecs="vorbis"',qualityLabel:null,bitrate:null,audioBitrate:128},172:{mimeType:'audio/webm; codecs="vorbis"',qualityLabel:null,bitrate:null,audioBitrate:192},242:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"240p",bitrate:1e5,audioBitrate:null},243:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"360p",bitrate:25e4,audioBitrate:null},244:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"480p",bitrate:5e5,audioBitrate:null},247:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"720p",bitrate:7e5,audioBitrate:null},248:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"1080p",bitrate:15e5,audioBitrate:null},249:{mimeType:'audio/webm; codecs="opus"',qualityLabel:null,bitrate:null,audioBitrate:48},250:{mimeType:'audio/webm; codecs="opus"',qualityLabel:null,bitrate:null,audioBitrate:64},251:{mimeType:'audio/webm; codecs="opus"',qualityLabel:null,bitrate:null,audioBitrate:160},264:{mimeType:'video/mp4; codecs="H.264"',qualityLabel:"1440p",bitrate:4e6,audioBitrate:null},266:{mimeType:'video/mp4; codecs="H.264"',qualityLabel:"2160p",bitrate:125e5,audioBitrate:null},271:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"1440p",bitrate:9e6,audioBitrate:null},272:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"4320p",bitrate:2e7,audioBitrate:null},278:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"144p 30fps",bitrate:8e4,audioBitrate:null},298:{mimeType:'video/mp4; codecs="H.264"',qualityLabel:"720p",bitrate:3e6,audioBitrate:null},299:{mimeType:'video/mp4; codecs="H.264"',qualityLabel:"1080p",bitrate:55e5,audioBitrate:null},300:{mimeType:'video/ts; codecs="H.264, aac"',qualityLabel:"720p",bitrate:1318e3,audioBitrate:48},302:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"720p HFR",bitrate:25e5,audioBitrate:null},303:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"1080p HFR",bitrate:5e6,audioBitrate:null},308:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"1440p HFR",bitrate:1e7,audioBitrate:null},313:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"2160p",bitrate:13e6,audioBitrate:null},315:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"2160p HFR",bitrate:2e7,audioBitrate:null},330:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"144p HDR, HFR",bitrate:8e4,audioBitrate:null},331:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"240p HDR, HFR",bitrate:1e5,audioBitrate:null},332:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"360p HDR, HFR",bitrate:25e4,audioBitrate:null},333:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"240p HDR, HFR",bitrate:5e5,audioBitrate:null},334:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"720p HDR, HFR",bitrate:1e6,audioBitrate:null},335:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"1080p HDR, HFR",bitrate:15e5,audioBitrate:null},336:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"1440p HDR, HFR",bitrate:5e6,audioBitrate:null},337:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"2160p HDR, HFR",bitrate:12e6,audioBitrate:null}}},f35f:function(e,t,r){const a=r("1982"),i=r("f319"),{parseTimestamp:n}=r("c333"),o="https://www.youtube.com/watch?v=",s={song:{name:"Music",url:"https://music.youtube.com/"}},l=e=>e?e.runs?e.runs[0].text:e.simpleText:null;t.getMedia=e=>{let t={},r=[];try{r=e.response.contents.twoColumnWatchNextResults.results.results.contents}catch(i){}let a=r.find(e=>e.videoSecondaryInfoRenderer);if(!a)return{};try{let e=(a.metadataRowContainer||a.videoSecondaryInfoRenderer.metadataRowContainer).metadataRowContainerRenderer.rows;for(let r of e)if(r.metadataRowRenderer){let e=l(r.metadataRowRenderer.title).toLowerCase(),a=r.metadataRowRenderer.contents[0];t[e]=l(a);let i=a.runs;i&&i[0].navigationEndpoint&&(t[e+"_url"]=new URL(i[0].navigationEndpoint.commandMetadata.webCommandMetadata.url,o).toString()),e in s&&(t.category=s[e].name,t.category_url=s[e].url)}else if(r.richMetadataRowRenderer){let e=r.richMetadataRowRenderer.contents,a=e.filter(e=>"RICH_METADATA_RENDERER_STYLE_BOX_ART"===e.richMetadataRenderer.style);for(let{richMetadataRenderer:r}of a){let e=r;t.year=l(e.subtitle);let a=l(e.callToAction).split(" ")[1];t[a]=l(e.title),t[a+"_url"]=new URL(e.endpoint.commandMetadata.webCommandMetadata.url,o).toString(),t.thumbnails=e.thumbnail.thumbnails}let i=e.filter(e=>"RICH_METADATA_RENDERER_STYLE_TOPIC"===e.richMetadataRenderer.style);for(let{richMetadataRenderer:r}of i){let e=r;t.category=l(e.title),t.category_url=new URL(e.endpoint.commandMetadata.webCommandMetadata.url,o).toString()}}}catch(i){}return t};const c=e=>!(!e||!e.find(e=>"Verified"===e.metadataBadgeRenderer.tooltip));t.getAuthor=e=>{let t,r,i=[],n=!1;try{let s=e.response.contents.twoColumnWatchNextResults.results.results.contents,u=s.find(e=>e.videoSecondaryInfoRenderer&&e.videoSecondaryInfoRenderer.owner&&e.videoSecondaryInfoRenderer.owner.videoOwnerRenderer),d=u.videoSecondaryInfoRenderer.owner.videoOwnerRenderer;t=d.navigationEndpoint.browseEndpoint.browseId,i=d.thumbnail.thumbnails.map(e=>(e.url=new URL(e.url,o).toString(),e)),r=a.parseAbbreviatedNumber(l(d.subscriberCountText)),n=c(d.badges)}catch(s){}try{let s=e.player_response.microformat&&e.player_response.microformat.playerMicroformatRenderer,l=s&&s.channelId||t||e.player_response.videoDetails.channelId,c={id:l,name:s?s.ownerChannelName:e.player_response.videoDetails.author,user:s?s.ownerProfileUrl.split("/").slice(-1)[0]:null,channel_url:"https://www.youtube.com/channel/"+l,external_channel_url:s?"https://www.youtube.com/channel/"+s.externalChannelId:"",user_url:s?new URL(s.ownerProfileUrl,o).toString():"",thumbnails:i,verified:n,subscriber_count:r};return i.length&&a.deprecate(c,"avatar",c.thumbnails[0].url,"author.avatar","author.thumbnails[0].url"),c}catch(s){return{}}};const u=(e,t)=>{if(e)try{let r=l(e.viewCountText),i=l(e.shortViewCountText),s=t.find(t=>t.id===e.videoId);/^\d/.test(i)||(i=s&&s.short_view_count_text||""),r=(/^\d/.test(r)?r:i).split(" ")[0];let u=e.shortBylineText.runs[0].navigationEndpoint.browseEndpoint,d=u.browseId,p=l(e.shortBylineText),m=(u.canonicalBaseUrl||"").split("/").slice(-1)[0],h={id:e.videoId,title:l(e.title),published:l(e.publishedTimeText),author:{id:d,name:p,user:m,channel_url:"https://www.youtube.com/channel/"+d,user_url:"https://www.youtube.com/user/"+m,thumbnails:e.channelThumbnail.thumbnails.map(e=>(e.url=new URL(e.url,o).toString(),e)),verified:c(e.ownerBadges),[Symbol.toPrimitive](){return console.warn("`relatedVideo.author` will be removed in a near future release, use `relatedVideo.author.name` instead."),h.author.name}},short_view_count_text:i.split(" ")[0],view_count:r.replace(/,/g,""),length_seconds:e.lengthText?Math.floor(n(l(e.lengthText))/1e3):t&&""+t.length_seconds,thumbnails:e.thumbnail.thumbnails,richThumbnails:e.richThumbnail?e.richThumbnail.movingThumbnailRenderer.movingThumbnailDetails.thumbnails:[],isLive:!(!e.badges||!e.badges.find(e=>"LIVE NOW"===e.metadataBadgeRenderer.label))};return a.deprecate(h,"author_thumbnail",h.author.thumbnails[0].url,"relatedVideo.author_thumbnail","relatedVideo.author.thumbnails[0].url"),a.deprecate(h,"ucid",h.author.id,"relatedVideo.ucid","relatedVideo.author.id"),a.deprecate(h,"video_thumbnail",h.thumbnails[0].url,"relatedVideo.video_thumbnail","relatedVideo.thumbnails[0].url"),h}catch(r){}};t.getRelatedVideos=e=>{let t=[],r=[];try{t=e.response.webWatchNextResponseExtensionData.relatedVideoArgs.split(",").map(e=>i.parse(e))}catch(n){}try{r=e.response.contents.twoColumnWatchNextResults.secondaryResults.secondaryResults.results}catch(n){return[]}let a=[];for(let i of r||[]){let e=i.compactVideoRenderer;if(e){let r=u(e,t);r&&a.push(r)}else{let e=i.compactAutoplayRenderer||i.itemSectionRenderer;if(!e||!Array.isArray(e.contents))continue;for(let r of e.contents){let e=u(r.compactVideoRenderer,t);e&&a.push(e)}}}return a},t.getLikes=e=>{try{let t=e.response.contents.twoColumnWatchNextResults.results.results.contents,r=t.find(e=>e.videoPrimaryInfoRenderer),a=r.videoPrimaryInfoRenderer.videoActions.menuRenderer.topLevelButtons,i=a.find(e=>e.toggleButtonRenderer&&"LIKE"===e.toggleButtonRenderer.defaultIcon.iconType);return parseInt(i.toggleButtonRenderer.defaultText.accessibility.accessibilityData.label.replace(/\D+/g,""))}catch(t){return null}},t.getDislikes=e=>{try{let t=e.response.contents.twoColumnWatchNextResults.results.results.contents,r=t.find(e=>e.videoPrimaryInfoRenderer),a=r.videoPrimaryInfoRenderer.videoActions.menuRenderer.topLevelButtons,i=a.find(e=>e.toggleButtonRenderer&&"DISLIKE"===e.toggleButtonRenderer.defaultIcon.iconType);return parseInt(i.toggleButtonRenderer.defaultText.accessibility.accessibilityData.label.replace(/\D+/g,""))}catch(t){return null}},t.cleanVideoDetails=(e,t)=>(e.thumbnails=e.thumbnail.thumbnails,delete e.thumbnail,a.deprecate(e,"thumbnail",{thumbnails:e.thumbnails},"videoDetails.thumbnail.thumbnails","videoDetails.thumbnails"),e.description=e.shortDescription||l(e.description),delete e.shortDescription,a.deprecate(e,"shortDescription",e.description,"videoDetails.shortDescription","videoDetails.description"),e.lengthSeconds=t.player_response.microformat&&t.player_response.microformat.playerMicroformatRenderer.lengthSeconds||t.player_response.videoDetails.lengthSeconds,e),t.getStoryboards=e=>{const t=e.player_response.storyboards&&e.player_response.storyboards.playerStoryboardSpecRenderer&&e.player_response.storyboards.playerStoryboardSpecRenderer.spec&&e.player_response.storyboards.playerStoryboardSpecRenderer.spec.split("|");if(!t)return[];const r=new URL(t.shift());return t.map((e,t)=>{let[a,i,n,o,s,l,c,u]=e.split("#");r.searchParams.set("sigh",u),n=parseInt(n,10),o=parseInt(o,10),s=parseInt(s,10);const d=Math.ceil(n/(o*s));return{templateUrl:r.toString().replace("$L",t).replace("$N",c),thumbnailWidth:parseInt(a,10),thumbnailHeight:parseInt(i,10),thumbnailCount:n,interval:parseInt(l,10),columns:o,rows:s,storyboardCount:d}})},t.getChapters=e=>{const t=e.response&&e.response.playerOverlays&&e.response.playerOverlays.playerOverlayRenderer,r=t&&t.decoratedPlayerBarRenderer&&t.decoratedPlayerBarRenderer.decoratedPlayerBarRenderer&&t.decoratedPlayerBarRenderer.decoratedPlayerBarRenderer.playerBar,a=r&&r.multiMarkersPlayerBarRenderer&&r.multiMarkersPlayerBarRenderer.markersMap,i=Array.isArray(a)&&a.find(e=>e.value&&Array.isArray(e.value.chapters));if(!i)return[];const n=i.value.chapters;return n.map(e=>({title:l(e.chapterRenderer.title),start_time:e.chapterRenderer.timeRangeStartMillis/1e3}))}},fcd9:function(e,t,r){const a=r("1982"),i=r("e33f"),n=["mp4a","mp3","vorbis","aac","opus","flac"],o=["mp4v","avc1","Sorenson H.283","MPEG-4 Visual","VP8","VP9","H.264"],s=e=>e.bitrate||0,l=e=>o.findIndex(t=>e.codecs&&e.codecs.includes(t)),c=e=>e.audioBitrate||0,u=e=>n.findIndex(t=>e.codecs&&e.codecs.includes(t)),d=(e,t,r)=>{let a=0;for(let i of r)if(a=i(t)-i(e),0!==a)break;return a},p=(e,t)=>d(e,t,[e=>parseInt(e.qualityLabel),s,l]),m=(e,t)=>d(e,t,[c,u]);t.sortFormats=(e,t)=>d(e,t,[e=>+!!e.isHLS,e=>+!!e.isDashMPD,e=>+(e.contentLength>0),e=>+(e.hasVideo&&e.hasAudio),e=>+e.hasVideo,e=>parseInt(e.qualityLabel)||0,s,c,l,u]),t.chooseFormat=(e,r)=>{if("object"===typeof r.format){if(!r.format.url)throw Error("Invalid format given, did you use `ytdl.getInfo()`?");return r.format}let a;r.filter&&(e=t.filterFormats(e,r.filter)),e.some(e=>e.isHLS)&&(e=e.filter(e=>e.isHLS||!e.isLive));const i=r.quality||"highest";switch(i){case"highest":a=e[0];break;case"lowest":a=e[e.length-1];break;case"highestaudio":{e=t.filterFormats(e,"audio"),e.sort(m);const r=e[0];e=e.filter(e=>0===m(r,e));const i=e.map(e=>parseInt(e.qualityLabel)||0).sort((e,t)=>e-t)[0];a=e.find(e=>(parseInt(e.qualityLabel)||0)===i);break}case"lowestaudio":e=t.filterFormats(e,"audio"),e.sort(m),a=e[e.length-1];break;case"highestvideo":{e=t.filterFormats(e,"video"),e.sort(p);const r=e[0];e=e.filter(e=>0===p(r,e));const i=e.map(e=>e.audioBitrate||0).sort((e,t)=>e-t)[0];a=e.find(e=>(e.audioBitrate||0)===i);break}case"lowestvideo":e=t.filterFormats(e,"video"),e.sort(p),a=e[e.length-1];break;default:a=h(i,e);break}if(!a)throw Error("No such format found: "+i);return a};const h=(e,t)=>{let r=e=>t.find(t=>""+t.itag===""+e);return Array.isArray(e)?r(e.find(e=>r(e))):r(e)};t.filterFormats=(e,t)=>{let r;switch(t){case"videoandaudio":case"audioandvideo":r=e=>e.hasVideo&&e.hasAudio;break;case"video":r=e=>e.hasVideo;break;case"videoonly":r=e=>e.hasVideo&&!e.hasAudio;break;case"audio":r=e=>e.hasAudio;break;case"audioonly":r=e=>!e.hasVideo&&e.hasAudio;break;default:if("function"!==typeof t)throw TypeError(`Given filter (${t}) is not supported`);r=t}return e.filter(e=>!!e.url&&r(e))},t.addFormatMeta=e=>(e=Object.assign({},i[e.itag],e),e.hasVideo=!!e.qualityLabel,e.hasAudio=!!e.audioBitrate,e.container=e.mimeType?e.mimeType.split(";")[0].split("/")[1]:null,e.codecs=e.mimeType?a.between(e.mimeType,'codecs="','"'):null,e.videoCodec=e.hasVideo&&e.codecs?e.codecs.split(", ")[0]:null,e.audioCodec=e.hasAudio&&e.codecs?e.codecs.split(", ").slice(-1)[0]:null,e.isLive=/\bsource[/=]yt_live_broadcast\b/.test(e.url),e.isHLS=/\/manifest\/hls_(variant|playlist)\//.test(e.url),e.isDashMPD=/\/manifest\/dash\//.test(e.url),e)}}]);
//# sourceMappingURL=chunk-1239b53a.039d4aca.js.map